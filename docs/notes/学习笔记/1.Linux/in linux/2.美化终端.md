---
title: ç¾åŒ–ç»ˆç«¯
createTime: 2025/03/14 03:58:41
permalink: /learning-notes/linux/beautify-shell/
icon: vscode-icons:file-type-jsbeautify
---

https://my.oschina.net/emacs_8896228/blog/17532060



## ğŸ“¦ å®‰è£… Oh My Zsh

<RepoCard repo="ohmyzsh/ohmyzsh"></RepoCard>

Oh My Zsh æ˜¯ä¸€ä¸ªå¼€æºçš„ã€ç¤¾åŒºé©±åŠ¨çš„æ¡†æ¶ï¼Œç”¨äºç®¡ç† Zsh é…ç½®ã€‚å®ƒæä¾›äº†æµ·é‡ä¸»é¢˜å’Œæ’ä»¶ï¼Œèƒ½è®©æ‚¨çš„ç»ˆç«¯æ—¢ç¾è§‚åˆé«˜æ•ˆã€‚

### å®‰è£…å‰æ

1. ç¡®ä¿å·²å®‰è£… Zshï¼š
   ```bash
   sudo apt install zsh  # Ubuntu/Debian
   sudo yum install zsh  # CentOS/RHEL
   brew install zsh      # macOS
   ```
2. è®¾ç½® Zsh ä¸ºé»˜è®¤ shellï¼š
   ```bash
   chsh -s $(which zsh)
   ```

### å®‰è£…æ–¹æ³•

```bash
# ä½¿ç”¨ curl å®‰è£…
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

# ä½¿ç”¨ wget å®‰è£…
sh -c "$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

## ğŸ¨ ä¸»é¢˜é…ç½®

Oh My Zsh æä¾›äº† 200+ ä¸»é¢˜ï¼Œå­˜æ”¾äº `~/.oh-my-zsh/themes/`

### é…ç½®ä¸»é¢˜

ç¼–è¾‘ `~/.zshrc` æ–‡ä»¶ï¼š

```bash
ZSH_THEME="ä¸»é¢˜å"  # ä¾‹å¦‚ï¼šagnoster, powerlevel10k, spaceship
```

### çƒ­é—¨ä¸»é¢˜æ¨è

| ä¸»é¢˜åç§°              | ç‰¹ç‚¹                    | é¢„è§ˆ                                                                                                                 |
|-------------------|-----------------------|--------------------------------------------------------------------------------------------------------------------|
| **powerlevel10k** | é«˜åº¦å¯å®šåˆ¶ï¼Œæå¿«é€Ÿåº¦            | ![p10k](https://raw.githubusercontent.com/romkatv/powerlevel10k-images/master/prompt-styles-high-contrast.png)     |
| **spaceship**     | ç°ä»£åŒ–ï¼Œå¤šåŠŸèƒ½æç¤ºç¬¦            | ![spaceship](https://user-images.githubusercontent.com/10276208/36086434-5de52ace-0ff2-11e8-8299-c67f9ab4e5bd.png) |
| **agnoster**      | ç»å…¸ç®€çº¦ï¼Œéœ€å®‰è£… Powerline å­—ä½“ | ![agnoster](https://i.stack.imgur.com/bnwTt.png)                                                                   |
| **robbyrussell**  | é»˜è®¤ä¸»é¢˜ï¼Œç®€æ´å®ç”¨             | ![robbyrussell](https://i.stack.imgur.com/gGz9e.png)                                                               |
| **dracula**       | æ·±è‰²ä¸»é¢˜ï¼ŒæŠ¤çœ¼ç¾è§‚             | ![dracula](https://draculatheme.com/assets/img/screenshots/zsh.png)                                                |

### å®‰è£… Powerline å­—ä½“ï¼ˆéƒ¨åˆ†ä¸»é¢˜éœ€ï¼‰

```bash
# å…‹éš†å­—ä½“åº“
git clone https://github.com/powerline/fonts.git --depth=1
# å®‰è£…å­—ä½“
cd fonts
./install.sh
# æ¸…ç†
cd ..
rm -rf fonts
```

åœ¨ç»ˆç«¯è®¾ç½®ä¸­ä¿®æ”¹å­—ä½“ä¸ºï¼š

- `Meslo LG S Regular for Powerline`
- æˆ–å…¶ä»– Powerline å­—ä½“

## ğŸ§© æ’ä»¶å¢å¼º

Oh My Zsh æ‹¥æœ‰ 300+ æ’ä»¶ï¼Œæå‡ç»ˆç«¯åŠŸèƒ½å’Œä½“éªŒ

### å¸¸ç”¨æ’ä»¶æ¨è

1. **zsh-autosuggestions**ï¼ˆå‘½ä»¤è‡ªåŠ¨å»ºè®®ï¼‰
   ```bash
   git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
   ```

2. **zsh-syntax-highlighting**ï¼ˆè¯­æ³•é«˜äº®ï¼‰
   ```bash
   git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
   ```

3. **git**ï¼ˆGit é›†æˆï¼‰
4. **docker**ï¼ˆDocker æ”¯æŒï¼‰
5. **sudo**ï¼ˆæŒ‰ä¸¤æ¬¡ ESC æ·»åŠ  sudoï¼‰

### å¯ç”¨æ’ä»¶

ç¼–è¾‘ `~/.zshrc`ï¼š

```bash
plugins=(
  git
  docker
  zsh-autosuggestions
  zsh-syntax-highlighting
  sudo
)
```

## ğŸ”§ è¿›é˜¶é…ç½®

### å®‰è£… Powerlevel10k ä¸»é¢˜

```bash
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k
```

ç„¶åè®¾ç½®ï¼š

```bash
ZSH_THEME="powerlevel10k/powerlevel10k"
```

è¿è¡Œé…ç½®å‘å¯¼ï¼š

```bash
p10k configure
```

### å¸¸ç”¨åˆ«åè®¾ç½®ï¼ˆ~/.zshrcï¼‰

```bash
# ä¾¿æ·æ“ä½œ
alias ls="lsd"  # æ›¿ä»£ ls ä½¿ç”¨ lsd
alias cat="bat" # æ›¿ä»£ cat ä½¿ç”¨ bat
alias find="fd" # æ›¿ä»£ find ä½¿ç”¨ fd
alias grep="rg" # æ›¿ä»£ grep ä½¿ç”¨ ripgrep

# Git ç®€åŒ–
alias gs="git status"
alias ga="git add"
alias gc="git commit"
alias gp="git push"
alias gl="git pull"

# å¿«é€Ÿç¼–è¾‘
alias zshconfig="nano ~/.zshrc"
alias ohmyzsh="nano ~/.oh-my-zsh"
```

### å®‰è£…ç°ä»£åŒ–å·¥å…·

```bash
# exa (ç°ä»£æ›¿ä»£ ls)
sudo apt install exa   # Ubuntu/Debian
brew install exa       # macOS

# bat (ç°ä»£æ›¿ä»£ cat)
sudo apt install bat   # Ubuntu/Debian
brew install bat       # macOS

# lsd (æ›´å‹å¥½çš„é¢œè‰²å’Œå›¾æ ‡)
sudo snap install lsd  # Snap
brew install lsd       # macOS
```

## ğŸ’» ä¸»é¢˜æ•ˆæœç¤ºä¾‹ï¼ˆPowerlevel10kï¼‰

ä¸€ä¸ªå®Œæ•´çš„é…ç½®æ•ˆæœï¼š

```zsh
[user@host ~] 
> git status
âœ master Â± â¯ gs                 # ä½¿ç”¨ç®€å†™å‘½ä»¤
On branch master
Your branch is up to date with 'origin/master'.

nothing to commit, working tree clean

âœ master âœ” â¯ cd projects/        # è‡ªåŠ¨å»ºè®®æ˜¾ç¤ºå†å²å‘½ä»¤
âœ projects master âœ” â¯ ls         # ä¸°å¯Œçš„é¢œè‰²å’Œå›¾æ ‡
ğŸ“‚ backend  ğŸ“‚ frontend  ğŸ“„ README.md

âœ projects master âœ” â¯            # æ•´æ´çš„æç¤ºç¬¦æ˜¾ç¤ºå½“å‰è·¯å¾„å’ŒGitçŠ¶æ€
```

## ğŸ”Œ æ¨èæ’ä»¶åˆ—è¡¨

| æ’ä»¶                      | åŠŸèƒ½            | å®‰è£…å‘½ä»¤                                                             |
|-------------------------|---------------|------------------------------------------------------------------|
| zsh-autosuggestions     | å‘½ä»¤è‡ªåŠ¨å»ºè®®        | `git clone https://github.com/zsh-users/zsh-autosuggestions`     |
| zsh-syntax-highlighting | å‘½ä»¤è¯­æ³•é«˜äº®        | `git clone https://github.com/zsh-users/zsh-syntax-highlighting` |
| docker                  | Docker è‡ªåŠ¨è¡¥å…¨   | å†…ç½®                                                               |
| kubectl                 | Kubernetes æ”¯æŒ | å†…ç½®                                                               |
| asdf                    | å¤šè¯­è¨€ç‰ˆæœ¬ç®¡ç†å™¨      | å†…ç½®                                                               |
| web-search              | ç›´æ¥ä»ç»ˆç«¯æœç´¢       | å†…ç½®                                                               |
| copypath                | å¤åˆ¶å½“å‰è·¯å¾„        | å†…ç½®                                                               |

## ğŸ’¾ æ›´æ–°ä¸ç»´æŠ¤

```bash
# æ‰‹åŠ¨æ›´æ–° Oh My Zsh
omz update

# ç¦ç”¨è‡ªåŠ¨æ›´æ–°
DISABLE_AUTO_UPDATE="true"  # æ·»åŠ åˆ° ~/.zshrc

# é‡ç½® Zsh é…ç½®
exec zsh  # æˆ– source ~/.zshrc
```

## ğŸš« å¸è½½ Oh My Zsh

```bash
uninstall_oh_my_zsh
```

> **ğŸ’¡ ç¾åŒ–å°è´´å£«**ï¼š<br>
> 1. ç»“åˆä½¿ç”¨ [iTerm2](https://iterm2.com/) (macOS)
     æˆ– [Windows Terminal](https://github.com/microsoft/terminal) (Windows) è·å¾—æœ€ä½³ä½“éªŒ<br>
> 2. æ­é… [nerdfonts](https://www.nerdfonts.com/) è·å¾—æ›´ä¸°å¯Œçš„å›¾æ ‡æ”¯æŒ<br>
> 3. ä½¿ç”¨ [Fig](https://fig.io/) æ·»åŠ IDEé£æ ¼çš„è‡ªåŠ¨å®Œæˆ
<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.24" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.160" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"维护与开发手册","image":[""],"dateModified":"2025-08-11T06:03:28.000Z","author":[]}</script><meta property="og:url" content="https://docs.pguide.dev/public-service/cqmu-mirror/maintenance-dev-books/"><meta property="og:site_name" content="PGuide Docs"><meta property="og:title" content="维护与开发手册"><meta property="og:description" content="这是一篇未完成的文档 本文是面向基于 MirrorZ 项目镜像站的维护与开发手册，帮助新站长快速上手，了解镜像站的基本操作和维护方法。 需求评估 搭建一个镜像站，最基本的问题有如下几个： 评估是否真的需要一个新的镜像 计划镜像的内容清单 适宜的硬件资源 数据同步管理 Web 服务和帮助文档 是否需要新建镜像 Mirroring-Howto 新建镜像一般..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-08-11T06:03:28.000Z"><meta property="article:modified_time" content="2025-08-11T06:03:28.000Z"><link rel="icon" type="image/png" href="/icon/logo.svg"><script defer="" src="https://events.vercount.one/js"></script><title>维护与开发手册 | PGuide Docs</title><meta name="description" content="这是一篇未完成的文档 本文是面向基于 MirrorZ 项目镜像站的维护与开发手册，帮助新站长快速上手，了解镜像站的基本操作和维护方法。 需求评估 搭建一个镜像站，最基本的问题有如下几个： 评估是否真的需要一个新的镜像 计划镜像的内容清单 适宜的硬件资源 数据同步管理 Web 服务和帮助文档 是否需要新建镜像 Mirroring-Howto 新建镜像一般..."><link rel="preload" href="/assets/style-Cf4qzO_g.css" as="style"><link rel="stylesheet" href="/assets/style-Cf4qzO_g.css"><link rel="modulepreload" href="/assets/app-Dk7ccnrl.js"><link rel="modulepreload" href="/assets/index.html-Bmcb2wTG.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-5e837f66><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-4bcbfc76></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-4bcbfc76> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-5e837f66 data-v-a79db463><div class="vp-navbar" vp-navbar data-v-a79db463 data-v-e41795a2><div class="wrapper" data-v-e41795a2><div class="container" data-v-e41795a2><div class="title" data-v-e41795a2><div class="vp-navbar-title has-sidebar" data-v-e41795a2 data-v-589003d7><a class="vp-link link no-icon title" href="/" data-v-589003d7><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/icon/logo.svg" alt data-v-f3edd99a><!--]--><!--[--><img class="vp-image light logo" style="" src="/icon/logo.svg" alt data-v-f3edd99a><!--]--><!--]--><!--]--><span data-v-589003d7>PGuide Docs</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-e41795a2><div class="content-body" data-v-e41795a2><!--[--><!--]--><div class="vp-navbar-search search" data-v-e41795a2><div class="search-wrapper" data-v-1c380cd5><!----><div id="local-search" data-v-1c380cd5><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-1c380cd5><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-e41795a2 data-v-f3e045e4><span id="main-nav-aria-label" class="visually-hidden" data-v-f3e045e4>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/" tabindex="0" data-v-f3e045e4 data-v-422a6f51><!--[--><!----><span data-v-422a6f51>首页</span><!----><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-f3e045e4 data-v-7e6609c4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-7e6609c4><span class="text" data-v-7e6609c4><span class="vp-icon-img" aria-hidden data-v-7e6609c4 data-v-2266f113><img src="/icon/note.svg" alt="" style="" data-v-2266f113></span><!----><span data-v-7e6609c4>学习笔记</span><!----><span class="vpi-chevron-down text-icon" data-v-7e6609c4></span></span></button><div class="menu" data-v-7e6609c4><div class="vp-menu" data-v-7e6609c4 data-v-ade36f76><div class="items" data-v-ade36f76><!--[--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-ivint0au bg" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>Linux</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/linux/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-ap6n747d bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> echo&gt; what is linux  <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->Linux发行版<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/linux/commands/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-drp83fbi" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Linux入门及命令 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->.sh<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon-img" aria-hidden data-v-2970679f data-v-2266f113><img src="/icon/AI.svg" alt="" style="" data-v-2266f113></span><span data-v-2970679f>机器学习</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/machine-learning/online-training-platform/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-sj7n7um9 bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 在线训练平台 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->赛博炼丹<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/machine-learning/mindspore/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/mindspore.svg" alt="" style="" data-v-2266f113></span> MindSpore <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->国产分布式、全场景AI框架<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/machine-learning/tensorflow/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-aqb5w86m bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> TensorFlow <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->Google感知和语言理解软件库<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/machine-learning/pytorch/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-k3ug172a bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> PyTorch <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->构建深度学习模型的功能框架<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-qb6jl5nm bg" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>机器人操作系统</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/ROS2/VMWare-install/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-d57yltek" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> ROS2系统安装 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->VMWare<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/ROS2/origin-bot-toolkit/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="https://www.originbot.org/assets/img/favicon.png" alt="" style="" data-v-2266f113></span> 古月居OriginBot <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->Guyuehome<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-p97rwhi6 bg" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>前端开发</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/frontend-dev/HTML/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-7etah9jw bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> HTML CSS JS <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/react/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-m02ss7sp bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> React 框架 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/vue3/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-24uupd6z bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Vue3 框架 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-ix11k0al bg" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>后端开发</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://spring.io/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-j7279ygj bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Spring 框架 <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://www.djangoproject.com/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-enul8vuu bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Django 框架 <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://flask.palletsprojects.com/zh-cn/stable/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-tsv7eqqz bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Flask 框架 <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/container/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-s8f8izkv bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 容器化技术 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-b4ao44m7" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>计算机视觉</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/computer-vision/YOLO/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/yolo.svg" alt="" style="" data-v-2266f113></span> YOLO <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->You Only Look Once<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/computer-vision/OpenCV/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-kbqbhget bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> OpenCV <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->Apache<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/computer-vision/MATLAB/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-lih73rk3 bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> MATLAB <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->MATLAB Inc.<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-09rvqdxu" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>网络安全</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/learning-notes/cybersecurity/vpn-setup/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-hg3w1ai0" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 搭建VPN <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://192.168.194.65/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/avatar/qax.svg" alt="" style="" data-v-2266f113></span> 奇安信实训平台 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->校园网内可用<!--]--></span><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://hello-ctf.com/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="https://hello-ctf.com/logo.png" alt="" style="" data-v-2266f113></span> Hello~CTF <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-f3e045e4 data-v-7e6609c4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-7e6609c4><span class="text" data-v-7e6609c4><span class="vp-icon-img" aria-hidden data-v-7e6609c4 data-v-2266f113><img src="/icon/project.svg" alt="" style="" data-v-2266f113></span><!----><span data-v-7e6609c4>项目文档</span><!----><span class="vpi-chevron-down text-icon" data-v-7e6609c4></span></span></button><div class="menu" data-v-7e6609c4><div class="vp-menu" data-v-7e6609c4 data-v-ade36f76><div class="items" data-v-ade36f76><!--[--><!--[--><div class="vp-menu-link" data-v-ade36f76 data-v-a2e79ef2><a class="vp-link link" href="/project-docs/standards/name-project/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-srxikg44 bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 项目相关规范 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ade36f76 data-v-a2e79ef2><a class="vp-link link" href="/project-docs/project-intellectual-property/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-nc4wpun5" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 项目知识产权 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-mp80zg85" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>我们正在做的项目</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-y40c0mxa bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 前言 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/match-competitions/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-0pzy3ta2" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 全国大学生竞赛组队系统 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/project-management-platform/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-supdpn2q" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 项目管理平台 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/plant-cure/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/zhiyu.png" alt="" style="" data-v-2266f113></span> 植愈：AI情绪小帮手 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/smart-car/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/robot.png" alt="" style="" data-v-2266f113></span> 智慧中草药生态养护平台 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/study-analytic-system/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/analyse.svg" alt="" style="" data-v-2266f113></span> 学情分析系统 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/control-my-panel/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-xbyk2l6y" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 掌中方圆 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/spd/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-ze2ssihc bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> SPD智能医疗耗材管理系统 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/see-the-components/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-hfpx54d2" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 医智慧眼 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/various-gestures/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-jiwupl5h" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 千手万象 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/when2eat/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-1zk91gsv" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 啥时候吃饭 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->YOLO<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/project-docs/oh-my-api/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-o752ckiy bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Oh my API <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->ECharts<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-f3e045e4 data-v-7e6609c4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-7e6609c4><span class="text" data-v-7e6609c4><span class="vp-icon-img" aria-hidden data-v-7e6609c4 data-v-2266f113><img src="/icon/code.svg" alt="" style="" data-v-2266f113></span><!----><span data-v-7e6609c4>CS-DIY</span><!----><span class="vpi-chevron-down text-icon" data-v-7e6609c4></span></span></button><div class="menu" data-v-7e6609c4><div class="vp-menu" data-v-7e6609c4 data-v-ade36f76><div class="items" data-v-ade36f76><!--[--><!--[--><div class="vp-menu-link" data-v-ade36f76 data-v-a2e79ef2><a class="vp-link link" href="/cs-diy/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/code.svg" alt="" style="" data-v-2266f113></span> 前言 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-l2d31qvw" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>必学工具</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/csdiy/tools-must/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-udtedbzc" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 基础工具 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon-img" aria-hidden data-v-2970679f data-v-2266f113><img src="/icon/path.svg" alt="" style="" data-v-2266f113></span><span data-v-2970679f>学习路线</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/csdiy/study-path/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-cf31534h" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 合集收录 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-55hr5nvm" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>编程入门</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/csdiy/program-begin/grammar/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-i4jnz3fr" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 基础语法 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/csdiy/program-begin/PYPI-mirror/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-zwmuhyv0" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 环境配置 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon-img" aria-hidden data-v-2970679f data-v-2266f113><img src="/icon/dev-standard.svg" alt="" style="" data-v-2266f113></span><span data-v-2970679f>开发规范</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/csdiy/dev-rules/what-dev-rules/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-er7bb04a" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 简介 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://peps.python.org/pep-0008/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-b2d2xj26 bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Python PEP 8 <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-63vgmd9z" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>计算机常识</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://www.criwits.top/missing/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-oum86qhh" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 缺失的一课 <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://www.cyhaoka.vip/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-w38xut70" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 电脑开荒网 <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/csdiy/computer-common-knowledge/Win11re-setup/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-p3n5m6hd bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 系统安装 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/csdiy/computer-common-knowledge/make-image/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-ls780j3d bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 镜像刻录 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><!----><span data-v-2970679f>实用资源</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/csdiy/indeeded-src/icons-components/element-plus/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-hrm4q2ee bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 图标、组件库 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://github.com/CTF-Archives" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-v0wpznwy" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> CTF档案 <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://github.com/forthespada/CS-Books" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-qcu9at2y bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> CS Books <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://github.com/forthespada/Awsome-Courses" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-mr14a5t5" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Awesome Courses <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group active" data-v-f3e045e4 data-v-7e6609c4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-7e6609c4><span class="text" data-v-7e6609c4><span class="vp-icon-img" aria-hidden data-v-7e6609c4 data-v-2266f113><img src="/icon/public-service.svg" alt="" style="" data-v-2266f113></span><!----><span data-v-7e6609c4>公共服务</span><!----><span class="vpi-chevron-down text-icon" data-v-7e6609c4></span></span></button><div class="menu" data-v-7e6609c4><div class="vp-menu" data-v-7e6609c4 data-v-ade36f76><div class="items" data-v-ade36f76><!--[--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon-img" aria-hidden data-v-2970679f data-v-2266f113><img src="/icon/openai.svg" alt="" style="" data-v-2266f113></span><span data-v-2970679f>生成式人工智能</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/GPT/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/openai.svg" alt="" style="" data-v-2266f113></span> GPT API公共调用网站及应用部署集合 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/GPT/lobe-chat/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="https://lobechat.com/icons/icon-192x192.png" alt="" style="" data-v-2266f113></span> Lobe Chat <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->对话大模型聚合平台<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon-img" aria-hidden data-v-2970679f data-v-2266f113><img src="/icon/mirror.svg" alt="" style="" data-v-2266f113></span><span data-v-2970679f>重庆医科大学开源软件镜像站</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/cqmu-mirror/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/mirror.svg" alt="" style="" data-v-2266f113></span> 镜像站介绍 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->在线<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/cqmu-mirror/wiki/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-mmns7epn" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> CQMU Mirror Wiki <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link active" href="/public-service/cqmu-mirror/maintenance-dev-books/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-9m9p59vj" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 维护与开发手册 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon-img" aria-hidden data-v-2970679f data-v-2266f113><img src="/icon/overleaf.svg" alt="" style="" data-v-2266f113></span><span data-v-2970679f>Overleaf LaTeX协作平台</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/overleaf/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/overleaf.svg" alt="" style="" data-v-2266f113></span> 协作平台简介及使用 <span class="vp-badge danger vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->外网未开通<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/overleaf/latex-template-collections/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-6jlnc16e bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> LaTeX模板集合 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->整理中<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/overleaf/releases/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-9699zj5u bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 更新日志 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/overleaf/maintenance-dev-books/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-9m9p59vj" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 维护与开发手册 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-6pwu1g88 bg" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>Git 代码托管平台</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/code-manage/github-pguide-dev/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-8if0tvxw" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Github PGuideDev <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/code-manage/gitlab-ee/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-6o8cc3ra bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Gitlab EE代码托管平台 <span class="vp-badge danger vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->外网未开通<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://e.gitee.com/chongqing-medical-university_4/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-ihm8cggp" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Gitee CQMU <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->重庆医科大学<!--]--></span><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-t2i0bvh4 bg" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>数据中心</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/data-center/pguide-alist/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="https://alist.nn.ci/logo.svg" alt="" style="" data-v-2266f113></span> Alist动态软件镜像站 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->在线<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/data-center/common-softwares-recommand-and-download/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-wh99seza" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 常用软件推荐及下载 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->在线<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/data-center/docker-registry/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-s184q9yd" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> docker私有镜像管理 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->PGuide VPN<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/public-service/data-center/baidu-netdisk-enterprise/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-gxc4jb4q" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 百度网盘企业版 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->PGuide VPN<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-f3e045e4 data-v-7e6609c4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-7e6609c4><span class="text" data-v-7e6609c4><span class="vp-icon-img" aria-hidden data-v-7e6609c4 data-v-2266f113><img src="/icon/wiki.svg" alt="" style="" data-v-2266f113></span><!----><span data-v-7e6609c4>大学百科</span><!----><span class="vpi-chevron-down text-icon" data-v-7e6609c4></span></span></button><div class="menu" data-v-7e6609c4><div class="vp-menu" data-v-7e6609c4 data-v-ade36f76><div class="items" data-v-ade36f76><!--[--><!--[--><div class="vp-menu-link" data-v-ade36f76 data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/apply-student-email/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/email.svg" alt="" style="" data-v-2266f113></span> 申请学生邮箱 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ade36f76 data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/teacher-talks/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/teacher.svg" alt="" style="" data-v-2266f113></span> 良师赠语 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ade36f76 data-v-a2e79ef2><a class="vp-link link" href="https://colleges.chat/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="https://colleges.chat/assets/images/favicon.webp" alt="" style="" data-v-2266f113></span> 大学百科指北 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->生活<!--]--></span><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ade36f76 data-v-a2e79ef2><a class="vp-link link" href="https://ac-wiki.org/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="https://ac-wiki.org/assets/logo_clear.png" alt="" style="" data-v-2266f113></span> Ac-Wiki <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->大学生的百科全书<!--]--></span><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ade36f76 data-v-a2e79ef2><a class="vp-link link" href="/" data-v-a2e79ef2><!--[--><!---->  <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-ajgdo0fq" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>常用软件</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/common-software/IDE/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-kayjhp6h bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> IDE <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->集成开发环境<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/document-management/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-6wp8a7vz" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 文献管理 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/common-softwares/note-softwares/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-rjw50kan bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 笔记软件 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/common-softwares/office/MS/apply-ee/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-vdgvuifd bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 办公软件 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->Office<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon-img" aria-hidden data-v-2970679f data-v-2266f113><img src="/icon/cert.svg" alt="" style="" data-v-2266f113></span><span data-v-2970679f>证书及技能考试</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/credential-skillful-exams/CET/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-8sbncgfv" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 四、六级考试 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->CET、SET<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/credential-skillful-exams/ruankao/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="https://bm.ruankao.org.cn/asset/image/public/logo.png" alt="" style="" data-v-2266f113></span> 软考 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->宇宙机，我爱考<!--]--></span><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/credential-skillful-exams/NCRE/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-eohubqb5" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 计算机等级考试 <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->适合大学生<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon-img" aria-hidden data-v-2970679f data-v-2266f113><img src="/icon/competition.svg" alt="" style="" data-v-2266f113></span><span data-v-2970679f>竞赛指南</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/competition/code/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-j1pgz2hg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 编程竞赛 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/competition/math-modeling/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-s3nce34l" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 数学建模 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/competition/subjects/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-n72h3qqv" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 纯学科竞赛 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/competition/AI-future/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-pyqe0f3d" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 人工智能 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/competition/AI-future/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-pyqe0f3d" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 网络安全 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/campus-wiki/competition/innovate/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-oyqh5w2w" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 创新创业 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-f3e045e4 data-v-7e6609c4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-7e6609c4><span class="text" data-v-7e6609c4><span class="vp-icon vpi-d8xtbhxa" style="" aria-hidden data-provider="iconify" data-v-7e6609c4></span><!----><span data-v-7e6609c4>更多</span><!----><span class="vpi-chevron-down text-icon" data-v-7e6609c4></span></span></button><div class="menu" data-v-7e6609c4><div class="vp-menu" data-v-7e6609c4 data-v-ade36f76><div class="items" data-v-ade36f76><!--[--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon-img" aria-hidden data-v-2970679f data-v-2266f113><img src="/icon/link.svg" alt="" style="" data-v-2266f113></span><span data-v-2970679f>友情链接</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/friends/persons/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/friend.svg" alt="" style="" data-v-2266f113></span> 个人 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/friends/organizations/" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="/icon/organ.svg" alt="" style="" data-v-2266f113></span> 组织 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="/friends/quotes/" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-f5jdvtwf" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> Q&amp;A <span class="vp-badge tip vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->常见问题<!--]--></span><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-ade36f76 data-v-2970679f><p class="title" data-v-2970679f><span class="vp-icon vpi-g0x09np2 bg" style="" aria-hidden data-provider="iconify" data-v-2970679f></span><span data-v-2970679f>服务状态</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="http://100.126.170.14:3001/status/pguide" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon-img" aria-hidden data-v-a2e79ef2 data-v-2266f113><img src="https://uptime.kuma.pet/img/icon.svg" alt="" style="" data-v-2266f113></span> 公开服务监控 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->PGuide VPN<!--]--></span><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="http://100.126.170.14:3000/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-updl7t8q bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> 服务器实时流量 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->PGuide VPN<!--]--></span><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="http://100.126.170.14:5003/" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-wisu1mr6 bg" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> docker镜像服务站 <span class="vp-badge warning vp-menu-badge" style="" data-v-a2e79ef2 data-v-c4f289ab><!--[-->PGuide VPN<!--]--></span><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-2970679f data-v-a2e79ef2><a class="vp-link link" href="https://ping.chinaz.com/docs.pguide.cloud" target="_blank" rel="noreferrer" data-v-a2e79ef2><!--[--><span class="vp-icon vpi-m7w2x2he" style="" aria-hidden data-provider="iconify" data-v-a2e79ef2></span> ping检测 <!----><!--]--><span class="vpi-external-link"></span></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-e41795a2 data-v-0366432c><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-0366432c data-v-95bcb525 data-v-64fc453c><span class="check" data-v-64fc453c><span class="icon" data-v-64fc453c><!--[--><span class="vpi-sun sun" data-v-95bcb525></span><span class="vpi-moon moon" data-v-95bcb525></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-e41795a2 data-v-f815394e data-v-f26401fd><!--[--><a class="vp-social-link no-icon" href="https://gitee.com/rand777/PGuide-Docs" aria-label target="_blank" rel="noopener" data-v-f26401fd data-v-2ac7507a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M11.984 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12a12 12 0 0 0 12-12A12 12 0 0 0 12 0zm6.09 5.333c.328 0 .593.266.592.593v1.482a.594.594 0 0 1-.593.592H9.777c-.982 0-1.778.796-1.778 1.778v5.63c0 .327.266.592.593.592h5.63c.982 0 1.778-.796 1.778-1.778v-.296a.593.593 0 0 0-.592-.593h-4.15a.59.59 0 0 1-.592-.592v-1.482a.593.593 0 0 1 .593-.592h6.815c.327 0 .593.265.593.592v3.408a4 4 0 0 1-4 4H5.926a.593.593 0 0 1-.593-.593V9.778a4.444 4.444 0 0 1 4.445-4.444h8.296Z"/></svg></a><a class="vp-social-link no-icon" href="https://github.com/PGuideDev/PGuide-Docs" aria-label="github" target="_blank" rel="noopener" data-v-f26401fd data-v-2ac7507a><span class="vpi-social-github" /></a><a class="vp-social-link no-icon" href="https://qm.qq.com/q/Ur5Q6kyTsG" aria-label="qq" target="_blank" rel="noopener" data-v-f26401fd data-v-2ac7507a><span class="vpi-social-qq" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-e41795a2 data-v-d3a0da89 data-v-7e6609c4><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-7e6609c4><span class="vpi-more-horizontal icon" data-v-7e6609c4></span></button><div class="menu" data-v-7e6609c4><div class="vp-menu" data-v-7e6609c4 data-v-ade36f76><!----><!--[--><!--[--><!----><div class="group" data-v-d3a0da89><div class="item appearance" data-v-d3a0da89><p class="label" data-v-d3a0da89>外观</p><div class="appearance-action" data-v-d3a0da89><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-d3a0da89 data-v-95bcb525 data-v-64fc453c><span class="check" data-v-64fc453c><span class="icon" data-v-64fc453c><!--[--><span class="vpi-sun sun" data-v-95bcb525></span><span class="vpi-moon moon" data-v-95bcb525></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d3a0da89><div class="item social-links" data-v-d3a0da89><div class="vp-social-links social-links-list" data-v-d3a0da89 data-v-f26401fd><!--[--><a class="vp-social-link no-icon" href="https://gitee.com/rand777/PGuide-Docs" aria-label target="_blank" rel="noopener" data-v-f26401fd data-v-2ac7507a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M11.984 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12a12 12 0 0 0 12-12A12 12 0 0 0 12 0zm6.09 5.333c.328 0 .593.266.592.593v1.482a.594.594 0 0 1-.593.592H9.777c-.982 0-1.778.796-1.778 1.778v5.63c0 .327.266.592.593.592h5.63c.982 0 1.778-.796 1.778-1.778v-.296a.593.593 0 0 0-.592-.593h-4.15a.59.59 0 0 1-.592-.592v-1.482a.593.593 0 0 1 .593-.592h6.815c.327 0 .593.265.593.592v3.408a4 4 0 0 1-4 4H5.926a.593.593 0 0 1-.593-.593V9.778a4.444 4.444 0 0 1 4.445-4.444h8.296Z"/></svg></a><a class="vp-social-link no-icon" href="https://github.com/PGuideDev/PGuide-Docs" aria-label="github" target="_blank" rel="noopener" data-v-f26401fd data-v-2ac7507a><span class="vpi-social-github" /></a><a class="vp-social-link no-icon" href="https://qm.qq.com/q/Ur5Q6kyTsG" aria-label="qq" target="_blank" rel="noopener" data-v-f26401fd data-v-2ac7507a><span class="vpi-social-qq" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-e41795a2 data-v-8e173130><span class="container" data-v-8e173130><span class="top" data-v-8e173130></span><span class="middle" data-v-8e173130></span><span class="bottom" data-v-8e173130></span></span></button></div></div></div></div><div class="divider" data-v-e41795a2><div class="divider-line" data-v-e41795a2></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-5e837f66 data-v-ebc91c00><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-ebc91c00><span class="vpi-align-left menu-icon" data-v-ebc91c00></span><span class="menu-text" data-v-ebc91c00>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-ebc91c00 data-v-06089488><button data-v-06089488>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-5e837f66 data-v-33345a3f><div class="curtain" data-v-33345a3f></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-33345a3f><span id="sidebar-aria-label" class="visually-hidden" data-v-33345a3f> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-8bea2da1><section class="vp-sidebar-item sidebar-item level-0 collapsible is-link" data-v-8bea2da1 data-v-cdccf2b0><div class="item" tabindex="0" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-o8t56m62 bg" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/data-center/" data-v-cdccf2b0><!--[--><h2 class="text" data-v-cdccf2b0><span data-v-cdccf2b0>数据中心</span><!----></h2><!--]--><!----></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cdccf2b0><span class="vpi-chevron-right caret-icon" data-v-cdccf2b0></span></div></div><div data-v-cdccf2b0 data-v-cdccf2b0><div class="items" data-v-cdccf2b0><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon-img" aria-hidden data-v-cdccf2b0 data-v-2266f113><img src="https://alist.nn.ci/logo.svg" alt="" style="" data-v-2266f113></span><a class="vp-link link link" href="/public-service/data-center/pguide-alist/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>Alist动态软件镜像站</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-wh99seza" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/data-center/common-softwares-recommand-and-download/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>常用软件推荐及下载</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-gxc4jb4q" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/data-center/baidu-netdisk-enterprise/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>百度网盘企业版</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-s184q9yd" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/data-center/docker-registry/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>私有容器镜像管理</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-8bea2da1><section class="vp-sidebar-item sidebar-item level-0 collapsible is-link" data-v-8bea2da1 data-v-cdccf2b0><div class="item" tabindex="0" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon-img" aria-hidden data-v-cdccf2b0 data-v-2266f113><img src="/icon/overleaf.svg" alt="" style="" data-v-2266f113></span><a class="vp-link link link" href="/public-service/overleaf/" data-v-cdccf2b0><!--[--><h2 class="text" data-v-cdccf2b0><span data-v-cdccf2b0>Overleaf LaTeX协作平台</span><!----></h2><!--]--><!----></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cdccf2b0><span class="vpi-chevron-right caret-icon" data-v-cdccf2b0></span></div></div><div data-v-cdccf2b0 data-v-cdccf2b0><div class="items" data-v-cdccf2b0><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-6jlnc16e bg" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/overleaf/latex-template-collections/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>LaTeX模板集合</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-9699zj5u bg" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/overleaf/releases/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>更新日志</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-9m9p59vj" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/overleaf/maintenance-dev-books/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>维护与开发手册</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-8bea2da1><section class="vp-sidebar-item sidebar-item level-0 collapsible is-link has-active" data-v-8bea2da1 data-v-cdccf2b0><div class="item" tabindex="0" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon-img" aria-hidden data-v-cdccf2b0 data-v-2266f113><img src="/icon/mirror.svg" alt="" style="" data-v-2266f113></span><a class="vp-link link link" href="/public-service/cqmu-mirror/" data-v-cdccf2b0><!--[--><h2 class="text" data-v-cdccf2b0><span data-v-cdccf2b0>重医校级开源软件镜像站</span><!----></h2><!--]--><!----></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cdccf2b0><span class="vpi-chevron-right caret-icon" data-v-cdccf2b0></span></div></div><div data-v-cdccf2b0 data-v-cdccf2b0><div class="items" data-v-cdccf2b0><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-mmns7epn" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/cqmu-mirror/wiki/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>CQMU Mirror Wiki</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-9m9p59vj" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/cqmu-mirror/maintenance-dev-books/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>维护与开发手册</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-8bea2da1><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-8bea2da1 data-v-cdccf2b0><div class="item" role="button" tabindex="0" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-6o8cc3ra bg" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><h2 class="text" data-v-cdccf2b0><span data-v-cdccf2b0>代码托管</span><!----></h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cdccf2b0><span class="vpi-chevron-right caret-icon" data-v-cdccf2b0></span></div></div><div data-v-cdccf2b0 data-v-cdccf2b0><div class="items" data-v-cdccf2b0><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-8if0tvxw" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/code-manage/github-pguide-dev/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>Github PGuideDev</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon vpi-6o8cc3ra bg" style="" aria-hidden data-provider="iconify" data-v-cdccf2b0></span><a class="vp-link link link" href="/public-service/code-manage/gitlab-ee/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>Gitlab EE代码托管平台</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-8bea2da1><section class="vp-sidebar-item sidebar-item level-0 collapsible is-link" data-v-8bea2da1 data-v-cdccf2b0><div class="item" tabindex="0" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon-img" aria-hidden data-v-cdccf2b0 data-v-2266f113><img src="/icon/openai.svg" alt="" style="" data-v-2266f113></span><a class="vp-link link link" href="/public-service/GPT/" data-v-cdccf2b0><!--[--><h2 class="text" data-v-cdccf2b0><span data-v-cdccf2b0>生成式人工智能</span><!----></h2><!--]--><!----></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-cdccf2b0><span class="vpi-chevron-right caret-icon" data-v-cdccf2b0></span></div></div><div data-v-cdccf2b0 data-v-cdccf2b0><div class="items" data-v-cdccf2b0><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-cdccf2b0 data-v-cdccf2b0><div class="item" data-v-cdccf2b0><div class="indicator" data-v-cdccf2b0></div><span class="vp-icon-img" aria-hidden data-v-cdccf2b0 data-v-2266f113><img src="https://lobechat.com/icons/icon-192x192.png" alt="" style="" data-v-2266f113></span><a class="vp-link link link" href="/public-service/GPT/lobe-chat/" data-v-cdccf2b0><!--[--><p class="text" data-v-cdccf2b0><span data-v-cdccf2b0>LobeChat</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-5e837f66 data-v-b3830626><div class="vp-doc-container has-sidebar has-aside" data-v-b3830626 data-v-683812e9><!--[--><!--]--><div class="container" data-v-683812e9><div class="aside" vp-outline data-v-683812e9><div class="aside-curtain" data-v-683812e9></div><div class="aside-container" data-v-683812e9><div class="aside-content" data-v-683812e9><div class="vp-doc-aside" data-v-683812e9 data-v-5f62ff8d><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-5f62ff8d data-v-adab1a45><div class="content" data-v-adab1a45><div class="outline-marker" data-v-adab1a45></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-adab1a45><span data-v-adab1a45>此页内容</span><span class="vpi-print icon" data-v-adab1a45></span></div><ul class="root" data-v-adab1a45 data-v-4d0c2076><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-5f62ff8d></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-683812e9><div class="content-container" data-v-683812e9><!--[--><!--]--><main class="main" data-v-683812e9><nav class="vp-breadcrumb" data-v-683812e9 data-v-d5278bc6><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-d5278bc6><!--[--><li property="itemListElement" typeof="ListItem" data-v-d5278bc6><a class="vp-link link breadcrumb" href="/" property="item" typeof="WebPage" data-v-d5278bc6><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-d5278bc6></span><meta property="name" content="首页" data-v-d5278bc6><meta property="position" content="1" data-v-d5278bc6></li><li property="itemListElement" typeof="ListItem" data-v-d5278bc6><a class="vp-link link breadcrumb" href="/public-service/cqmu-mirror/" property="item" typeof="WebPage" data-v-d5278bc6><!--[-->重医校级开源软件镜像站<!--]--><!----></a><span class="vpi-chevron-right" data-v-d5278bc6></span><meta property="name" content="重医校级开源软件镜像站" data-v-d5278bc6><meta property="position" content="2" data-v-d5278bc6></li><li property="itemListElement" typeof="ListItem" data-v-d5278bc6><a class="vp-link link breadcrumb current" href="/public-service/cqmu-mirror/maintenance-dev-books/" property="item" typeof="WebPage" data-v-d5278bc6><!--[-->维护与开发手册<!--]--><!----></a><!----><meta property="name" content="维护与开发手册" data-v-d5278bc6><meta property="position" content="3" data-v-d5278bc6></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-b2c90b40><!----> 维护与开发手册 <!----></h1><div class="vp-doc-meta" data-v-b2c90b40><!--[--><!--]--><p class="reading-time" data-v-b2c90b40><span class="vpi-books icon" data-v-b2c90b40></span><span data-v-b2c90b40>约 7639 字</span><span data-v-b2c90b40>大约 25 分钟</span></p><!----><!--[--><!--]--><p class="create-time" data-v-b2c90b40><span class="vpi-clock icon" data-v-b2c90b40></span><span data-v-b2c90b40>2025-04-26</span></p></div><!--]--><!--[--><!--]--><div class="_public-service_cqmu-mirror_maintenance-dev-books_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-683812e9><!--[--><!--]--><div data-v-683812e9><div class="hint-container caution"><p class="hint-container-title">这是一篇未完成的文档</p></div><blockquote><p>本文是面向基于 MirrorZ 项目镜像站的维护与开发手册，帮助新站长快速上手，了解镜像站的基本操作和维护方法。</p></blockquote><h2 id="需求评估" tabindex="-1"><a class="header-anchor" href="#需求评估"><span>需求评估</span></a></h2><p>搭建一个镜像站，最基本的问题有如下几个：</p><ol class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> 评估是否真的需要一个新的镜像</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> 计划镜像的内容清单</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-2"> 适宜的硬件资源</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> 数据同步管理</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-4" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-4"> Web 服务和帮助文档</label></li></ol><h3 id="是否需要新建镜像" tabindex="-1"><a class="header-anchor" href="#是否需要新建镜像"><span>是否需要新建镜像</span></a></h3><p><a href="https://github.com/tuna/tunasync/wiki/Mirroring-Howto" target="_blank" rel="noopener noreferrer">Mirroring-Howto</a></p><blockquote><p>新建镜像一般要瞄准特定的用户群体，典型的例子是校园网、云计算租户网络、软件研发机构内网等。如果没有一定规模的用量，维护一套镜像所带来的人力、管理和资金成本很可能会高于收益，此时建议采用公网镜像并自建缓存（如 HTTP 代理）来提高带宽使用效率和用户体验。常见的代理软件有 Squid、Apache TrafficServer 等，针对 Debian/Ubuntu 也有如 apt-cacher-ng 的成套方案。需要注意的是，如果缓存没有正确配置，可能会导致出现严重的使用问题。</p></blockquote><h3 id="计划镜像的内容清单" tabindex="-1"><a class="header-anchor" href="#计划镜像的内容清单"><span>计划镜像的内容清单</span></a></h3><blockquote><p>如果确实需要新建镜像，那么紧接着就是要针对计划镜像的内容做一份清单，这份清单应该按照需求的强烈程度排序。镜像不是越多越好，当规模增加到一定程度后，可能会带来意想不到的维护复杂度，因而导致相应的资源和精力投入并不总是随规模线性增减。</p></blockquote><p>查看 <a class="vp-link link" href="/public-service/cqmu-mirror/wiki/"><!--[--><span class="vp-icon vpi-mmns7epn" style="" aria-hidden data-provider="iconify"></span>CQMU Mirror Wiki<!--]--><!----></a>，根据调查，越靠前说明越有需求。</p><h3 id="适宜的硬件资源" tabindex="-1"><a class="header-anchor" href="#适宜的硬件资源"><span>适宜的硬件资源</span></a></h3><p>对镜像的最直观投入是存储和网络，因为镜像站属于重IO业务(disk &amp; network)，通常建议使用实体物理机来承载，以免在虚拟化平台上对其他业务造成影响。</p><p>存储容量可以参考 <a href="https://mirrors.tuna.tsinghua.edu.cn/status/#syncing-status" target="_blank" rel="noopener noreferrer">TUNA 镜像站同步状态页</a>给出的各个镜像的大小； 网络接入建议将服务器放在尽量靠近流量主干的位置，或根据具体网络情况和使用需求评估适宜的位置； 为镜像服务器配置适宜的内存，建议采用 ECC 内存<span class="vp-annotation ignore-header 内存" data-v-ea5fab86><span aria-label="内存" class="vpi-annotation" data-v-ea5fab86></span><!----></span>，具体容量根据投入大小决定；一个不精确的估算建议：为每TB镜像数据配置至少1GB内存，并额外配置若干内存用于数据同步等任务。</p><div class="code-block-title" data-title="ECC memory check.sh"><div class="code-block-title-bar"><span class="title"><span class="vp-icon vpi-e34qv69v bg" style="" aria-hidden data-provider="iconify"></span>ECC memory check.sh</span></div><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> dmidecode</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> --type</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> memory</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;Error Correction&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">## if Error Correction Type: Multi-bit ECC, it&#39;s ECC; Vice versa.</span></span></code></pre></div></div><h3 id="数据同步管理" tabindex="-1"><a class="header-anchor" href="#数据同步管理"><span>数据同步管理</span></a></h3><blockquote><p>镜像站需要通过从外部进行数据同步来保持更新，因此如何管理和调度这些任务也成为了一个问题：</p></blockquote><blockquote><p>当镜像数量较少时，可使用 cron 或 systemd timers 的简单方式管理，易于理解和维护 镜像数量较多时，需要使用更复杂的调度器，如 tunasync 有几种明确 不建议 的做法：</p><ul><li>将许多同步任务定时到同时启动，或安排在非常相近的时刻；这会导致上游和本地服务器均出现 io 瓶颈，显著降低同步效率和成功率； 两次同步间隔过短，绝大多数镜像建议每天同步 1-2 次，最多不超过 4 次；主要的上游源都不会更新过于频繁，更短的间隔不能明显提升时效性； 使用循环脚本，依次不停地尝试同步每个镜像；除上述效率原因外，这样做会浪费上游同步服务器资源，可能导致IP地址被封禁。 以下做法应务必避免 <ul><li>定时启动同步任务，并且同步命令没有超时的时间限制。</li><li>在这种情况下，如果出现网络问题，则会导致已经执行的同步命令还未终止时，再次执行同步命令，长此以往将会积累较多的卡住的同步进程。一旦网络恢复，这些卡住的同步进程则会出现巨量的网络流量，阻塞网络。代替地，应该在同步任务结束一定时间间隔后启动下一次同步任务，而不是定时启动；或者限制同步命令的执行时间，确保在出现故障的情况下，同步命令可以在合理的时间内终止。</li></ul></li></ul></blockquote><p>参考：</p><p>使用较少的镜像源时，使用 systemd timers 进行管理</p><p>时间调度设计</p><div class="code-block-title" data-title="/etc/systemd/system/mirror-sync.timer"><div class="code-block-title-bar"><span class="title">/etc/systemd/system/mirror-sync.timer</span></div><div class="language-shell has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="shell" style="--vp-collapsed-lines:10;--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">Description</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">Daily</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> mirror</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> sync</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> randomized</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> delay</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">[Timer]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">OnCalendar</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">*-*-*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> 03:00:00</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">     # 每天凌晨3点触发</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">RandomizedDelaySec</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">1h</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">         # 随机延迟0-1小时（避免同时启动）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">Persistent</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">               # 补执行错过任务</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">[Install]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">WantedBy</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">timers.target</span></span></code></pre><div class="collapsed-lines"></div></div></div><p>任务执行控制</p><div class="code-block-title" data-title="/usr/local/bin/sync-mirrors.sh"><div class="code-block-title-bar"><span class="title"><span class="vp-icon vpi-e34qv69v bg" style="" aria-hidden data-provider="iconify"></span>/usr/local/bin/sync-mirrors.sh</span></div><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">#!/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;" class="highlighted-word">bin</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">/bash</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">TIMEOUT</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">3600</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">  # 1小时超时</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> repo</span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">list-your-repos</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">); </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">  timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $TIMEOUT</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> rsync</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> -az</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> --delete</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> rsync://upstream/</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$repo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> /mirror/</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$repo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">  [ </span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">$?</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> -eq</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 124</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> ] &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;Timeout: </span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$repo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> /var/log/mirrorsync.err</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">done</span></span></code></pre></div></div><p>监控建议</p><div class="code-block-title" data-title="/etc/systemd/system/mirror-sync.service"><div class="code-block-title-bar"><span class="title">/etc/systemd/system/mirror-sync.service</span></div><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">[Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">oneshot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">ExecStart</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">/usr/local/bin/sync-mirrors.sh</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">LogLevelMax</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">warning</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">  # 抑制成功日志</span></span></code></pre></div></div><h3 id="web-服务和用户界面" tabindex="-1"><a class="header-anchor" href="#web-服务和用户界面"><span>Web 服务和用户界面</span></a></h3><blockquote><p>一个简单的 Web 服务器软件（例如 TUNA 使用的 Nginx），将所有有关文件设置好路径提供下载，就可以实现最基本的镜像站功能。镜像站绝大多数业务均为静态文件服务，因此类似的高性能静态文件 Web 服务器软件均可按需选择，不建议使用不常见的或过于侧重动态业务的 Web 服务器软件，如 SimpleHTTPServer、Tomcat 等。</p></blockquote><blockquote><p>如果希望用户界面更加友好，可以在主页前端、目录索引等功能上进行界面改进，可以参考如下几个项目：</p><ul><li>TUNA 镜像的前端页面：<a href="https://github.com/tuna/mirror-web" target="_blank" rel="noopener noreferrer">https://github.com/tuna/mirror-web</a></li><li>USTCLUG 的镜像前端页面：<a href="https://git.lug.ustc.edu.cn/mirrors/mirrors-index" target="_blank" rel="noopener noreferrer">https://git.lug.ustc.edu.cn/mirrors/mirrors-index</a></li><li>目录索引美化的 <a href="https://github.com/aperezdc/ngx-fancyindex" target="_blank" rel="noopener noreferrer">ngx-fancyindex</a></li></ul></blockquote><blockquote><p>此外，还有镜像的使用帮助，可以参考：</p><ul><li>TUNA 的使用帮助：<a href="https://github.com/tuna/mirror-web/tree/master/help/_posts" target="_blank" rel="noopener noreferrer">https://github.com/tuna/mirror-web/tree/master/help/_posts</a></li><li>USTCLUG 的使用帮助：<a href="https://github.com/ustclug/mirrorhelp" target="_blank" rel="noopener noreferrer">https://github.com/ustclug/mirrorhelp</a></li></ul></blockquote><h2 id="mirrorz-项目" tabindex="-1"><a class="header-anchor" href="#mirrorz-项目"><span><span class="vp-icon-img" aria-hidden data-v-2266f113><img src="https://mirrors.cernet.edu.cn/static/img/mirrorz.svg" alt="" style="" data-v-2266f113></span>MirrorZ 项目</span></a></h2><p>清华大学开源的MirrorZ项目为国内镜像提供了一种开源、高效的镜像同步方案，包含前端项目和后端同步脚本，极大便利了各高校和组织的镜像服务。</p><!----><h3 id="测速脚本" tabindex="-1"><a class="header-anchor" href="#测速脚本"><span>测速脚本</span></a></h3><p>MirrorZ 项目提供了测速脚本，帮助用户选择合适的镜像源。测速脚本会自动检测当前网络环境，并根据用户的需求选择合适的镜像源。</p><p>运行方式</p><p>linux安装curl后，执行shell脚本</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> https://mirrors.cernet.edu.cn/oh-my-mirrorz.py</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> python3</span></span></code></pre></div><p>源文件</p><div class="language-python has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">#!/usr/bin/env python3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"># -*- coding: utf-8 -*-</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"># vim: expandtab ts=4 sts=4 sw=4</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> subprocess</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> urllib.request</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> json</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> os</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> argparse</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">VERSION</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;20250426&#39;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">CURL_VERSION</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">UA_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;https://mirrorz.org&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">big </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;centos&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/7/isos/x86_64/CentOS-7-x86_64-Everything-2009.iso&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;centos-vault&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/6.0/isos/x86_64/CentOS-6.0-x86_64-LiveDVD.iso&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;opensuse&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/distribution/leap/15.5/iso/openSUSE-Leap-15.5-DVD-x86_64-Media.iso&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;ubuntu-releases&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/22.04/ubuntu-22.04.3-desktop-amd64.iso&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;debian-cd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/current/amd64/iso-bd/debian-edu-12.1.0-amd64-BD-1.iso&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;kali-images&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/kali-2023.2/kali-linux-2023.2-live-amd64.iso&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;CTAN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/systems/texlive/Images/texlive.iso&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;blackarch&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/iso/blackarch-linux-full-2023.04.01-x86_64.iso&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;archlinux&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/iso/latest/archlinux-x86_64.iso&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;ubuntu&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/indices/md5sums.gz&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">    &#39;debian&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;/ls-lR.gz&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"># filled by CI</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">mirrors </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/tuna.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/bfsu.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/bjtu.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/njupt.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/cqu.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/hit.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/nju.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/neusoft.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/pku.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/ynuosa.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/xjtu.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/xtom.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/xtom-hk.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/xtom-de.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/xtom-nl.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/xtom-ee.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/xtom-jp.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/xtom-au.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/xtom-sg.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/wsyu.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/bupt.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/njtech.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/geekpie.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/qlut.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/nyist.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/jcut.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrorz.org/static/json/legacy/nwafu.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrors.ustc.edu.cn/static/json/mirrorz.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirror.sjtu.edu.cn/mirrorz/siyuan.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrors.sjtug.sjtu.edu.cn/mirrorz/zhiyuan.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrors.sustech.edu.cn/mirrorz/mirrorz.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirror.iscas.ac.cn/.mirrorz/mirrorz.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://linux.xidian.edu.cn/mirrors/status.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrors.zju.edu.cn/api/mirrorz.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrors.sdu.edu.cn/mirrorz.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrors.scau.edu.cn/mirrorz.d.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://uestclug.org/mirrors-status/mirrorz.d.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirror.lzu.edu.cn/.mirrorz.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrors.jlu.edu.cn/_api/mirrorz.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://mirrors.cqupt.edu.cn/api/mirrorz.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">map</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">res </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> check_curl</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">():</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">    global</span><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;"> CURL_VERSION</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        res </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> subprocess.run([</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;curl&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;--version&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">stdout</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">subprocess.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">PIPE</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        out </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> res.stdout.decode(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;utf-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">        CURL_VERSION</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> out.split()[</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(out)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    except</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;No curl found!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> site_info</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    user_agent </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;oh-my-mirrorz/</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> (+https://github.com/mirrorz-org/oh-my-mirrorz) </span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">%s</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> %s</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> %</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">VERSION</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">UA_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;urllib/&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> urllib.request.</span><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">__version__</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    headers </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">        &#39;User-Agent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: user_agent</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    request </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> urllib.request.Request(url, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">headers</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">headers)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    with</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> urllib.request.urlopen(request, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">timeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> response:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> json.loads(response.read().decode(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;utf-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> speed_test</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    opt </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;-qs&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> args.ipv4:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        opt </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">+=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;4&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    elif</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> args.ipv6:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        opt </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">+=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;6&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    res </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> subprocess.run([</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;curl&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, opt, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;-o&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, os.devnull, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;-w&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;%</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">{http_code}</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> %</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">{speed_download}</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">                          &#39;-m&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#4EC9B0;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(args.time), </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;-A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;oh-my-mirrorz/</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> (+https://github.com/mirrorz-org/oh-my-mirrorz) </span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> curl/</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">%s</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> %</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">VERSION</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">UA_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">CURL_VERSION</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">), url], </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">stdout</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">subprocess.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D4D4D4;">PIPE</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    code, speed </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> res.stdout.decode(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;utf-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">).split()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#4EC9B0;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(code), </span><span style="--shiki-light:#005CC5;--shiki-dark:#4EC9B0;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(speed)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> human_readable_speed</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">speed</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    scale </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;B/s&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;KiB/s&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;MiB/s&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;GiB/s&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;TiB/s&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    i </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (speed </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 1024.0</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        i </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        speed </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">/=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 1024.0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;"> f</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">speed</span><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">:.2f</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> {</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">scale[i]</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">():</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    parser </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> argparse.ArgumentParser()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    group </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> parser.add_mutually_exclusive_group()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    group.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;-4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;--ipv4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">help</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;IPv4 only when speed testing&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">action</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;store_true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    group.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;-6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;--ipv6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">help</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;IPv6 only when speed testing&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">action</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;store_true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    parser.add_argument(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;-t&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;--time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#4EC9B0;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">default</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">choices</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">help</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;Duration of a speed test for one mirror (default: </span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">%(default)d</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    args </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> parser.parse_args()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> check_curl() </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">        exit</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> url </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> mirrors:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">            map</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">[url] </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> site_info(url)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;Loaded&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">[url][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;abbr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">], </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">[url][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        except</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;! Failed to load&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, url)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">            pass</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"># one empty line to separate metadata and speedtest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> _, v </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">.items():</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        uri_list </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;big&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">]:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">            uri_list.append(v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;big&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> r, u </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> big.items():</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">            for</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> m </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;mirrors&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">]:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">                if</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> m[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;cname&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> r:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">                    uri_list.append(m[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> u)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(uri_list) </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;! No big file found for&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;abbr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">], v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">            continue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> uri </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> uri_list:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">            res[v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;abbr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;Speed testing&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;abbr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">], uri </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> uri.startswith(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;http&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> uri, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;... &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">end</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">flush</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">            code, speed </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> speed_test(v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> uri, args)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> code </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 200</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">                print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;HTTP Code&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, code, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;Speed&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, human_readable_speed(speed))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">            else</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">                print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(human_readable_speed(speed))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">                res[v[</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;site&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;abbr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">]] </span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> speed</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">                break</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"># one empty line to separate speedtest and result</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;RANK&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;ABBR&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;SPEED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">sep</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D7BA7D;">\t\t</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> i, (k, v) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;"> enumerate</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">sorted</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(res.items(), </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;"> lambda</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> x</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: x[</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">reverse</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">:02d</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">, k, human_readable_speed(v), </span><span style="--shiki-light:#E36209;--shiki-dark:#9CDCFE;">sep</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D7BA7D;">\t\t</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;"> __name__</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;__main__&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    main()</span></span></code></pre><div class="collapsed-lines"></div></div><h3 id="镜像源上游" tabindex="-1"><a class="header-anchor" href="#镜像源上游"><span>镜像源上游</span></a></h3><p>镜像源上游是指镜像源的原始数据来源，通常是一个或多个官方源。镜像源会定期从这些上游源同步数据，以确保提供最新的软件包和更新。</p><blockquote><p><a href="https://mirrors.cernet.edu.cn/about" target="_blank" rel="noopener noreferrer">MirrorZ mirrors</a><img src="/assets/2025-04-27_03-21-30-CvsjnjaF.png" alt="2025-04-27_03-21-30.png" width="3306" height="612"></p></blockquote><p>在测速后，CQMU Mirror选择使用 <code>NYISY</code> <code>USTC</code> <code>CQU</code> <code>TUNA</code> <code>BFSU</code> <code>QLUT</code> 作为上游镜像。为了避免误差，还使用了不同运营商但同在校园网下的工作室服务器。</p><!--[--><div class="echarts-title">测速对比测试：工作室服务器/学校内网</div><div class="echarts-wrapper"><div class="echarts-container"></div><div style="display:flex;align-items:center;justify-content:center;height:360px;" class="echarts-loading"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--]--><!--[--><!----><div class="echarts-wrapper"><div class="echarts-container"></div><div style="display:flex;align-items:center;justify-content:center;height:360px;" class="echarts-loading"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--]--><h2 id="构建前的准备工作" tabindex="-1"><a class="header-anchor" href="#构建前的准备工作"><span>构建前的准备工作</span></a></h2><div class="hint-container important"><p class="hint-container-title">前置知识</p><ul><li>计算机网络基础</li><li>Linux中级知识</li><li>VMware等虚拟化技术</li><li>Python基础、SQL基础、前端基础</li><li>Redis缓存及其集群控制</li><li>信息安全管理</li><li>硬盘分区及引导设置</li></ul></div><div class="hint-container info"><p class="hint-container-title">测试环境</p><p>操作系统：<span class="vp-icon vpi-zhvuyecp bg" style="" aria-hidden data-provider="iconify"></span>CentOS Stream9-20250414</p></div><h3 id="安装与配置ssh链接" tabindex="-1"><a class="header-anchor" href="#安装与配置ssh链接"><span>安装与配置SSH链接</span></a></h3><p>在实际的操作系统控制中，大多数情况是在<mark class="note">内网环境</mark>下进行操作，SSH连接是最常用的远程连接方式。</p><p>SSH连接参考<a class="vp-link link" href="/csdiy/tools-must/git/#%E8%AE%BE%E7%BD%AEssh%E5%AF%86%E9%92%A5"><!--[-->这里<!--]--><!----></a>。</p><h3 id="配置centos-stream软件包镜像" tabindex="-1"><a class="header-anchor" href="#配置centos-stream软件包镜像"><span>配置CentOS Stream软件包镜像</span></a></h3><div class="hint-container note"><p class="hint-container-title">注</p><p>这里是 CERNET教育网联合镜像配置，阿里云/腾讯云/华为云等类似，请自行参考相关文档。</p></div><p>CentOS Stream 9 默认启用了包管理工具 dnf，其是 yum 包管理工具的替代品。dnf 与 yum 大部分的命令都是通用的，dnf 也使用 <code>/etc/yum.repos.d/</code> 进行镜像配置。</p><p>CentOS Stream 9 中源被整合入两个文件 <code>centos.repo</code> 和 <code>centos-addons.repo</code>，由于文件中不包含 baseurl 字段，需要手动插入，通过文本替换修改源的方法较为复杂，也可以选择直接复制最后的替换结果覆盖源文件。</p><blockquote><p>将这段代码保存为一个文件，例如 <code>update_mirror.pl</code>。</p></blockquote><div class="code-block-title" data-title="/tmp/update mirror.pl"><div class="code-block-title-bar"><span class="title"><span class="vp-icon vpi-9r41ril4 bg" style="" aria-hidden data-provider="iconify"></span>/tmp/update mirror.pl</span></div><div class="language-shell has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="shell" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">#!/usr/bin/perl</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> strict</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> warnings</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> autodie</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">my</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $mirrors</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;https://mirrors.cernet.edu.cn/centos-stream&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">@ARGV</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">    die</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;Usage: </span><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">$0</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &lt;filename1&gt; &lt;filename2&gt; ...\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">my</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $filename</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> shift</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> @ARGV</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">    my</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $backup_filename</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $filename</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> .</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;.bak&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">    rename</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $filename</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $backup_filename</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">    open</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> my</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $input</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;&lt;&quot;,</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $backup_filename</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">    open</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> my</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $output</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;&gt;&quot;,</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $filename</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$input</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">        s/^metalink/#</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> metalink/</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">m/^name/</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">            my</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (undef, </span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$repo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $arch</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) = split /-/;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">            $repo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> =~</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> s/^</span><span style="--shiki-light:#005CC5;--shiki-dark:#D7BA7D;">\s</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">+</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">\s+$//g</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">            (</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$arch</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> = defined </span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$arch</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> lc(</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$arch</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) =</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> s/^</span><span style="--shiki-light:#005CC5;--shiki-dark:#D7BA7D;">\s</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">+</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">\s+$//g</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$repo</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> /^Extras/) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">                $_</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> .=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;baseurl=${</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">mirrors</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">}/SIGs/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D7BA7D;">\$</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">releasever-stream/extras&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> .</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> ($arch </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">eq</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;source&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;/${</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">arch</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">}/&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D7BA7D;">\$</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">basearch/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;extras-common\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">            } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">                $_</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> .=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;baseurl=${</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">mirrors</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">}/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D7BA7D;">\$</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">releasever-stream/</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$repo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> .</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> ($arch </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">eq</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &#39;source&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;/&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D7BA7D;">\$</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">basearch/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$arch</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> ne </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&#39;&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;${</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">arch</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">}/tree/&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;\n&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> $output</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> $_</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="collapsed-lines"></div></div></div><p>然后，在命令行中使用以下命令来执行它：</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> perl</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> /tmp/update_mirror.pl</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> /etc/yum.repos.d/centos</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">.repo</span></span></code></pre></div><div class="hint-container tip"><p class="hint-container-title">安装 <code>autodie</code> Perl 模块</p><p>这个错误表明你的系统缺少 Perl 模块 autodie，导致 /tmp/update_mirror.pl 脚本无法运行。以下是解决方法：</p><blockquote><p>Can&#39;t locate autodie.pm in @INC (you may need to install the autodie module) (@INC contains: /usr/local/lib64/perl5/5.32 /usr/local/share/perl5/5.32 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5) at /tmp/update_mirror.pl line 5. BEGIN failed--compilation aborted at /tmp/update_mirror.pl line 5.</p></blockquote><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> perl-autodie</span></span></code></pre></div></div><p>重建缓存</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> clean</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> all</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> makecache</span></span></code></pre></div><p><img src="/assets/2025-04-27_01-59-20-BnQmh2jF.png" alt="2025-04-27_01-59-20.png" width="3318" height="267"></p><div class="hint-container important"><p class="hint-container-title">重要</p><p>注意，如果需要启用其中一些 repo，需要将其中的 enabled=0 改为 enabled=1。</p><p>注：截至 2023-05-16，并未在官方源与镜像源中发现 nfv-source，建议不要开启 nfv-source。</p></div><p>验证</p><blockquote><p>看到是baseurl是 https://mirrors.cernet.edu.cn/centos-stream/ 即可</p></blockquote><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><!--[--><button class="active vp-code-tab-nav" type="button" role="tab" aria-controls="codetab-328-0" aria-selected="true"><!--[--><span>centos.repo</span><!--]--></button><button class="vp-code-tab-nav" type="button" role="tab" aria-controls="codetab-328-1" aria-selected="false"><!--[--><span>centos-addons.repo</span><!--]--></button><!--]--></div><!--[--><div id="codetab-328-0" class="active vp-code-tab" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title"><!--[--><span>centos.repo</span><!--]--></div><!--[--><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> /etc/yum.repos.d/centos.repo</span></span></code></pre></div><!--]--></div><div id="codetab-328-1" class="vp-code-tab" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title"><!--[--><span>centos-addons.repo</span><!--]--></div><!--[--><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> /etc/yum.repos.d/centos-addons.repo</span></span></code></pre></div><!--]--></div><!--]--></div><h2 id="镜像站架构" tabindex="-1"><a class="header-anchor" href="#镜像站架构"><span>镜像站架构</span></a></h2><h3 id="网络架构" tabindex="-1"><a class="header-anchor" href="#网络架构"><span>网络架构</span></a></h3><p>镜像站点是异构的。单个镜像难以提供所有镜像，因此会出现差异。对于终端用户来说，这不是一个好的体验，因为他们需要搜索可用的镜像。为了简化操作，MirrorZ 旨在包含所有镜像，因此需要一个统一的界面。</p><blockquote><p>也就是说，如果你想你的镜像站点在 MirrorZ 上显示，你需要提供一个 JSON 文件，包含你镜像站点的基本信息和镜像列表。你可以使用 <code>mirrorz.json</code> 作为模板，修改其中的内容来适应你的镜像站点。</p></blockquote><p>数据结构由 <code>mirrorz.json</code> 定义：</p><div class="code-block-title" data-title="mirrorz.json"><div class="code-block-title-bar"><span class="title"><span class="vp-icon vpi-w2q3zcmp bg" style="" aria-hidden data-provider="iconify"></span>mirrorz.json</span></div><div class="language-json has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="json" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;">1.7</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">  &quot;site&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://example.org&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;logo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://example.org/img/logo.svg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;logo_darkmode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://example.org/img/logo-white.svg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;abbr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;EXAMPLE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;样例镜像站&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;homepage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://blog.example.org&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;issue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://github.com/example/issues&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://github.com/example/mirror-request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;admin@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;group&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;QQ: 10086 and/or Telegram @something&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;disk&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;may be any string showing usage of disk, e.g. usage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;note&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;may be any string; like speed limit or connection limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;big&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;/speedtest/1000mb.bin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">    &quot;disable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">  &quot;info&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;distro&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;Debian&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;category&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;os&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;urls&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">          &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;10.7.0 (amd64, CD installer with xfce)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">          &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;/debian-cd/current/amd64/iso-cd/debian-10.7.0-amd64-xfce-CD-1.iso&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">      ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">  ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">  &quot;mirrors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;cname&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;AOSP&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;desc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;Android 操作系统源代码&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;/AOSP&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;S&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;help&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;/help/AOSP/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;upstream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://android.googlesource.com/mirror/manifest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;596G&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;disable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;cname&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;AUR&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;desc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;Arch Linux 用户软件库&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://aur.tuna.tsinghua.edu.cn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;S1612195849X1612196849N&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;help&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;/help/AUR/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#9CDCFE;">      &quot;upstream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;https://aur.archlinux.org/&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="collapsed-lines"></div></div></div><h2 id="镜像站后端们" tabindex="-1"><a class="header-anchor" href="#镜像站后端们"><span>镜像站后端们</span></a></h2><p>得益于LUGers的大力贡献，现在已涌现出许许多多新的后端解决方案，以下是一些比较流行的镜像站后端同步解决方案：</p><h3 id="tuna-sync" tabindex="-1"><a class="header-anchor" href="#tuna-sync"><span>TUNA Sync</span></a></h3><p>使用 worker 和 manager 管理节点</p><p>快速入门：</p><blockquote><p>本例中:</p><ul><li>只镜像elvish项目</li><li>禁用了https</li><li>禁用了cgroup支持</li><li>快速上手</li></ul></blockquote><p>获取最新的<a href="https://github.com/tuna/tunasync/releases" target="_blank" rel="noopener noreferrer">TUNA Sync二进制包源文件</a></p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> https://github.com/tuna/tunasync/releases/download/v0.9.3/tunasync-v0.9.3-linux-amd64-bin.tar.gz</span></span></code></pre></div><p>服务器下不了就自己下用SSH传，版本号可能不一样，自行更改</p><p>解压</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> tunasync-v0.9.3-linux-amd64-bin.tar.gz</span></span></code></pre></div><p>将文件移动到标准二进制目录</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> ~/tunasync</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> ~/tunasynctl</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> /usr/local/bin/</span></span></code></pre></div><p>验证</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">which</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> tunasync</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> tunasynctl</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;">  # 应返回 /usr/local/bin/tunasync 等路径</span></span></code></pre></div><p>配置</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> ~/tunasync_demo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> /tmp/tunasync</span></span></code></pre></div><p>编辑<code>~/tunasync_demo/worker.conf</code></p><div class="code-block-title" data-title="~/tunasync_demo/worker.conf"><div class="code-block-title-bar"><span class="title"><span class="vp-icon vpi-dugmcsf9 bg" style="" aria-hidden data-provider="iconify"></span>~/tunasync_demo/worker.conf</span></div><div class="language-conf has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="conf" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-conf"><span class="line"><span>[global]</span></span>
<span class="line"><span>name = &quot;test_worker&quot;</span></span>
<span class="line"><span>log_dir = &quot;/tmp/tunasync/log/tunasync/{{.Name}}&quot;</span></span>
<span class="line"><span>mirror_dir = &quot;/tmp/tunasync&quot;</span></span>
<span class="line"><span>concurrent = 10</span></span>
<span class="line"><span>interval = 120</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[manager]</span></span>
<span class="line"><span>api_base = &quot;http://localhost:12345&quot;</span></span>
<span class="line"><span>token = &quot;&quot;</span></span>
<span class="line"><span>ca_cert = &quot;&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[cgroup]</span></span>
<span class="line"><span>enable = false</span></span>
<span class="line"><span>base_path = &quot;/sys/fs/cgroup&quot;</span></span>
<span class="line"><span>group = &quot;tunasync&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[server]</span></span>
<span class="line"><span>hostname = &quot;localhost&quot;</span></span>
<span class="line"><span>listen_addr = &quot;127.0.0.1&quot;</span></span>
<span class="line"><span>listen_port = 6000</span></span>
<span class="line"><span>ssl_cert = &quot;&quot;</span></span>
<span class="line"><span>ssl_key = &quot;&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;elvish&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://rsync.elv.sh/elvish/&quot;</span></span>
<span class="line"><span>use_ipv6 = false</span></span></code></pre><div class="collapsed-lines"></div></div></div><p>编辑 <code>~/tunasync_demo/manager.conf</code></p><div class="code-block-title" data-title="~/tunasync_demo/manager.conf"><div class="code-block-title-bar"><span class="title"><span class="vp-icon vpi-dugmcsf9 bg" style="" aria-hidden data-provider="iconify"></span>~/tunasync_demo/manager.conf</span></div><div class="language-conf" data-highlighter="shiki" data-ext="conf" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-conf"><span class="line"><span>debug = false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[server]</span></span>
<span class="line"><span>addr = &quot;127.0.0.1&quot;</span></span>
<span class="line"><span>port = 12345</span></span>
<span class="line"><span>ssl_cert = &quot;&quot;</span></span>
<span class="line"><span>ssl_key = &quot;&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[files]</span></span>
<span class="line"><span>db_type = &quot;bolt&quot;</span></span>
<span class="line"><span>db_file = &quot;/tmp/tunasync/manager.db&quot;</span></span>
<span class="line"><span>ca_cert = &quot;&quot;</span></span></code></pre></div></div><blockquote><p>除了 bolt 以外，还支持 badger、leveldb 和 redis 的数据库后端。对于 badger 和 leveldb，只需要修改 db_type。如果使用 redis 作为数据库后端，把 db_type 改为 redis，并把下面的 db_file 设为 redis 服务器的地址： redis://user:password@host:port/db_number</p></blockquote><p>运行</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">tunasync</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> --config</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> ~/tunasync_demo/manager.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">tunasync</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> worker</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> --config</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> ~/tunasync_demo/worker.conf</span></span></code></pre></div><p>本例中，镜像的数据在 <code>/tmp/tunasync/</code></p><hr><p>查看同步状态</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">tunasynctl</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 12345</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> --all</span></span></code></pre></div><blockquote><p>tunasynctl 也支持配置文件。配置文件可以放在 <code>/etc/tunasync/ctl.conf</code> 或者 <code>~/.config/tunasync/ctl.conf</code> 两个位置，后者可以覆盖前者的配置值。</p></blockquote><p>配置文件内容为：</p><div class="code-block-title" data-title="/etc/tunasync/ctl.conf"><div class="code-block-title-bar"><span class="title"><span class="vp-icon vpi-dugmcsf9 bg" style="" aria-hidden data-provider="iconify"></span>/etc/tunasync/ctl.conf</span></div><div class="language-conf" data-highlighter="shiki" data-ext="conf" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-conf"><span class="line"><span>manager_addr = &quot;127.0.0.1&quot;</span></span>
<span class="line"><span>manager_port = 12345</span></span>
<span class="line"><span>ca_cert = &quot;&quot;</span></span></code></pre></div></div><p>安全设置</p><p><code>worker</code> 和 <code>manager</code> 之间用 <code>http(s)</code> 通信，如果你 worker 和 manager 都是在本机，那么没必要使用 https。此时 manager 就不指定 ssl_key 和 ssl_cert，留空；worker 的 ca_cert 留空，api_base 以 http:// 开头。</p><p>如果需要加密的通信，manager 需要指定 ssl_key 和 ssl_cert，worker 要指定 ca_cert，并且 api_base 应该是 <code>https://</code> 开头。</p><hr><p>work.conf 示例配置</p><div class="code-block-title" data-title="/home/scripts/worker.conf"><div class="code-block-title-bar"><span class="title"><span class="vp-icon vpi-dugmcsf9 bg" style="" aria-hidden data-provider="iconify"></span>/home/scripts/worker.conf</span></div><div class="language-conf has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="conf" style="--vp-collapsed-lines:15;--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-conf"><span class="line"><span># /</span><span class="highlighted-word">home</span><span>/scripts in this example points to https://github.com/tuna/tunasync-scripts/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[global]</span></span>
<span class="line"><span>name = &quot;mirror_worker&quot;</span></span>
<span class="line"><span>log_dir = &quot;/srv/tunasync/log/tunasync/{{.Name}}&quot;</span></span>
<span class="line"><span>mirror_dir = &quot;/srv/tunasync&quot;</span></span>
<span class="line"><span>concurrent = 10</span></span>
<span class="line"><span>interval = 120</span></span>
<span class="line"><span></span></span>
<span class="line"><span># ensure the exec user be add into `docker` group</span></span>
<span class="line"><span>[docker]</span></span>
<span class="line"><span># in `command provider` can use docker_image and docker_volumes</span></span>
<span class="line"><span>enable = true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[manager]</span></span>
<span class="line"><span>api_base = &quot;http://localhost:12345&quot;</span></span>
<span class="line"><span>token = &quot;some_token&quot;</span></span>
<span class="line"><span>ca_cert = &quot;&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[cgroup]</span></span>
<span class="line"><span>enable = false</span></span>
<span class="line"><span>base_path = &quot;/sys/fs/cgroup&quot;</span></span>
<span class="line"><span>group = &quot;tunasync&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[server]</span></span>
<span class="line"><span>hostname = &quot;localhost&quot;</span></span>
<span class="line"><span>listen_addr = &quot;127.0.0.1&quot;</span></span>
<span class="line"><span>listen_port = 6000</span></span>
<span class="line"><span>ssl_cert = &quot;&quot;</span></span>
<span class="line"><span>ssl_key = &quot;&quot;</span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;adobe-fonts&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://github.com/adobe-fonts&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/adobe-fonts.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;AdoptOpenJDK&quot;</span></span>
<span class="line"><span>interval = 5760</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/adoptopenjdk.py&quot;</span></span>
<span class="line"><span>upstream = &quot;https://adoptopenjdk.jfrog.io/adoptopenjdk&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;alpine&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://rsync.alpinelinux.org/alpine/&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;anaconda&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://repo.continuum.io/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/anaconda.py --delete&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span>interval = 720</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;apache&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://rsync.apache.org/apache-dist/&quot;</span></span>
<span class="line"><span>use_ipv4 = true</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;armbian&quot;</span></span>
<span class="line"><span>provider = &quot;two-stage-rsync&quot;</span></span>
<span class="line"><span>stage1_profile = &quot;debian&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://rsync.armbian.com/apt/&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;armbian-releases&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>stage1_profile = &quot;debian&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://rsync.armbian.com/dl/&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;bananian&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://dl.bananian.org/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/lftp.sh&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;bioconductor&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;master.bioconductor.org:./&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--rsh=ssh -i /root/id_rsa -o PasswordAuthentication=no -l sync&quot; ]</span></span>
<span class="line"><span>exclude_file = &quot;/etc/excludes/bioconductor.txt&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;blender&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://mirrors.dotsrc.org/blender/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>exclude_file = &quot;/etc/excludes/blender.txt&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;chakra&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://rsync.chakralinux.org/packages/&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;chakra-releases&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://rsync.chakralinux.org/releases/&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;chef&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://packages.chef.io/repos&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/chef.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;clickhouse&quot;</span></span>
<span class="line"><span>interval = 2880</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://repo.yandex.ru/yandexrepo/clickhouse/&quot;</span></span>
<span class="line"><span>exclude_file = &quot;/etc/excludes/clickhouse.txt&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;clojars&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;s3://clojars-repo-production/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/s3.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/ftpsync:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        TUNASYNC_S3_ENDPOINT = &quot;https://s3.dualstack.us-east-2.amazonaws.com&quot;</span></span>
<span class="line"><span>        #TUNASYNC_S3_ENDPOINT = &quot;https://s3.us-east-2.amazonaws.com&quot;</span></span>
<span class="line"><span>        TUNASYNC_AWS_OPTIONS = &quot;--delete --exclude index.html&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;CPAN&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://cpan-rsync.perl.org/CPAN/&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;CRAN&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://cran.r-project.org/CRAN/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;CTAN&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://mirrors.rit.edu/CTAN/&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;dart-pub&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://pub.dev/api&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/pub.sh&quot;</span></span>
<span class="line"><span>interval = 30</span></span>
<span class="line"><span>docker_image = &quot;tunathu/pub-mirror:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        MIRROR_BASE_URL = &quot;https://mirrors.tuna.tsinghua.edu.cn/dart-pub&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;debian&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://mirrors.tuna.tsinghua.edu.cn/debian/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/debian.sh sync:archive:debian&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/ftpsync&quot;</span></span>
<span class="line"><span>docker_volumes = [</span></span>
<span class="line"><span>        &quot;/etc/misc/ftpsync-debian.conf:/ftpsync/etc/ftpsync-debian.conf:ro&quot;,</span></span>
<span class="line"><span>        &quot;/log/ftpsync:/</span><span class="highlighted-word">home</span><span>/log/tunasync/ftpsync&quot;,</span></span>
<span class="line"><span>]</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        FTPSYNC_LOG_DIR = &quot;/</span><span class="highlighted-word">home</span><span>/log/tunasync/ftpsync&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;docker-ce&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://download.docker.com/&quot;</span></span>
<span class="line"><span>command = &quot;timeout 3h /</span><span class="highlighted-word">home</span><span>/scripts/docker-ce.py --workers 10 --fast-skip&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;ELK&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://packages.elastic.co&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/ELK.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>        # set environment varialbes</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        WGET_OPTIONS = &quot;-6&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;elasticstack&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://artifacts.elastic.co/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/elastic.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;erlang-solutions&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://packages.erlang-solutions.com&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/erlang.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;flutter&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://storage.googleapis.com/flutter_infra/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/flutter.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;github-release&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://api.github.com/repos/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/github-release.py --workers 5&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span>interval = 720</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>  [mirrors.env]</span></span>
<span class="line"><span>  GITHUB_TOKEN = &quot;xxxxx&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;gitlab-ce&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://packages.gitlab.com/gitlab/gitlab-ce/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/gitlab-ce.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;gitlab-ee&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://packages.gitlab.com/gitlab/gitlab-ee/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/gitlab-ce.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;gitlab-runner&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://packages.gitlab.com/runner/gitlab-runner&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/gitlab-runner.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;grafana&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://packages.grafana.com/oss&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/grafana.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;hackage&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/hackage.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://hackage.haskell.org/&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;</span><span class="highlighted-word">home</span><span>brew-bottles&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://</span><span class="highlighted-word">home</span><span>brew.bintray.com&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/linuxbrew-bottles.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/</span><span class="highlighted-word">home</span><span>brew-mirror&quot;</span></span>
<span class="line"><span>        # set environment varialbes</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        HOMEBREW_REPO = &quot;https://neomirrors.tuna.tsinghua.edu.cn/git/</span><span class="highlighted-word">home</span><span>brew&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;influxdata&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://repos.influxdata.com&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/influxdata.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;kali&quot;</span></span>
<span class="line"><span>provider = &quot;two-stage-rsync&quot;</span></span>
<span class="line"><span>stage1_profile = &quot;debian&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://ftp.nluug.nl/kali/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ] # delete .~tmp~ folders</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;kali-images&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://ftp.nluug.nl/kali-images/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ] # delete .~tmp~ folders</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;KaOS&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://kaosx.tk/kaos/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;kernel&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://rsync.kernel.org/pub/linux/kernel/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;kicad&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;s3://kicad-downloads/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/s3.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/ftpsync:latest&quot;</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        TUNASYNC_S3_ENDPOINT = &quot;https://s3.cern.ch&quot;</span></span>
<span class="line"><span>        TUNASYNC_AWS_OPTIONS = &quot;--delete --exclude index.html&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;kodi&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://mirror.yandex.ru/mirrors/xbmc/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span>use_ipv6 = true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;kubernetes&quot;</span></span>
<span class="line"><span>interval = 2880</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;http://packages.cloud.google.com&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/kubernetes.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;linuxbrew-bottles&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://linuxbrew.bintray.com&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/linuxbrew-bottles.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/</span><span class="highlighted-word">home</span><span>brew-mirror&quot;</span></span>
<span class="line"><span>        # set environment varialbes</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        RUN_LINUXBREW = &quot;true&quot;</span></span>
<span class="line"><span>        HOMEBREW_REPO = &quot;https://neomirrors.tuna.tsinghua.edu.cn/git/</span><span class="highlighted-word">home</span><span>brew&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;linuxmint&quot;</span></span>
<span class="line"><span>provider = &quot;two-stage-rsync&quot;</span></span>
<span class="line"><span>stage1_profile = &quot;debian&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://mirrors.kernel.org/linuxmint-packages/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;lxc-images&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://us.images.linuxcontainers.org/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/lxc-images.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>interval = 720</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;lyx&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;ftp://ftp.lyx.org/pub/lyx/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/lftp.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        TUNASYNC_LFTP_OPTIONS = &quot;--only-newer&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;mongodb&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://repo.mongodb.org&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/mongodb.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;msys2&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;http://repo.msys2.org/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/lftp.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;mysql&quot;</span></span>
<span class="line"><span>interval = 30</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://repo.mysql.com&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/mysql.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>        # set environment varialbes</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        USE_IPV6 = &quot;1&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;nix&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;s3://nix-releases/nix/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/nix.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        MIRROR_BASE_URL = &#39;https://mirrors.tuna.tsinghua.edu.cn/nix/&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;nix-channels&quot;</span></span>
<span class="line"><span>interval = 300</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://nixos.org/channels&quot;</span></span>
<span class="line"><span>command = &quot;timeout 20h /</span><span class="highlighted-word">home</span><span>/scripts/nix-channels.py&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/nix-channels:latest&quot;</span></span>
<span class="line"><span>docker_options = [</span></span>
<span class="line"><span>  &quot;--cpus&quot;, &quot;20&quot;,</span></span>
<span class="line"><span>  ]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;nodesource&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://deb.nodesource.com/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/nodesource.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;openresty&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://openresty.org/package/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/lftp.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        TUNASYNC_LFTP_OPTIONS = &quot;--only-newer&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;packagist&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;http://packagist.org/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/packagist.sh&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;proxmox&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;http://download.proxmox.com&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/proxmox.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;pypi&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://pypi.python.org/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/pypi.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/bandersnatch:latest&quot;</span></span>
<span class="line"><span>interval = 5</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;qt&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://master.qt-project.org/qt-all/&quot;</span></span>
<span class="line"><span>exclude_file = &quot;/etc/excludes/qt.txt&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;raspberrypi&quot;</span></span>
<span class="line"><span>provider = &quot;two-stage-rsync&quot;</span></span>
<span class="line"><span>stage1_profile = &quot;debian&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://apt-repo.raspberrypi.org/archive/debian/&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;raspbian-images&quot;</span></span>
<span class="line"><span>interval = 5760</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://downloads.raspberrypi.org/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/lftp.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        TUNASYNC_LFTP_OPTIONS = &quot;-x ^icons/$ -c --only-missing -v --no-perms&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;raspbian&quot;</span></span>
<span class="line"><span>provider = &quot;two-stage-rsync&quot;</span></span>
<span class="line"><span>stage1_profile = &quot;debian&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://archive.raspbian.org/archive/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ] # delete .~tmp~ folders</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;redhat&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://ftp.redhat.com/redhat/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span>exclude_file = &quot;/etc/excludes/redhat.txt&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        RSYNC_PROXY=&quot;127.0.0.1:8123&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;remi&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://rpms.remirepo.net&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/remi.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;repo-ck&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;http://repo-ck.com&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/repo-ck.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;ros&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://mirror.umd.edu/packages.ros.org/ros/&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;ros2&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;http://packages.ros.org/ros2&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/ros2.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;rubygems&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://rubygems.org&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/rubygems.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/rubygems-mirror&quot;</span></span>
<span class="line"><span>interval = 60</span></span>
<span class="line"><span>        # set environment varialbes</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        INIT = &quot;0&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;rudder&quot;</span></span>
<span class="line"><span>interval = 2880</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://repository.rudder.io&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/rudder.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;rustup&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://rustup.rs/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/rustup.sh&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>docker_image = &quot;tunathu/rustup-mirror:latest&quot;</span></span>
<span class="line"><span>docker_volumes = [</span></span>
<span class="line"><span>]</span></span>
<span class="line"><span>docker_options = [</span></span>
<span class="line"><span>]</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        MIRROR_BASE_URL = &quot;https://mirrors.tuna.tsinghua.edu.cn/rustup&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;saltstack&quot;</span></span>
<span class="line"><span>interval = 1440 # required on http://repo.saltstack.com/#mirror</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;s3://s3/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/s3.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/ftpsync:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        TUNASYNC_S3_ENDPOINT = &quot;https://s3.repo.saltstack.com&quot;</span></span>
<span class="line"><span>        TUNASYNC_AWS_OPTIONS = &quot;--delete --exact-timestamps&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;solus&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://mirrors.rit.edu/solus/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--exclude&quot;, &quot;/shannon&quot;, &quot;--exclude&quot;, &quot;/unstable&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;stackage&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/stackage.py&quot;</span></span>
<span class="line"><span>upstream = &quot;https://www.stackage.org/&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>        # set environment varialbes</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        GIT_COMMITTER_NAME = &quot;TUNA mirrors&quot;</span></span>
<span class="line"><span>        GIT_COMMITTER_EMAIL = &quot;mirrors@tuna.tsinghua.edu.cn&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;steamos&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;http://repo.steampowered.com&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/lftp.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>    TUNASYNC_LFTP_OPTIONS = &quot;--only-newer --exclude icons/ &quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;termux&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;https://dl.bintray.com/termux/termux-packages-24/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/termux.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;ubuntu&quot;</span></span>
<span class="line"><span>provider = &quot;two-stage-rsync&quot;</span></span>
<span class="line"><span>stage1_profile = &quot;debian&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://archive.ubuntu.com/ubuntu/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;ubuntu-ports&quot;</span></span>
<span class="line"><span>provider = &quot;two-stage-rsync&quot;</span></span>
<span class="line"><span>stage1_profile = &quot;debian&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://ports.ubuntu.com/ubuntu-ports/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot; ]</span></span>
<span class="line"><span>exclude_file = &quot;/etc/excludes/ubuntu-ports-exclude.txt&quot;</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;virtualbox&quot;</span></span>
<span class="line"><span>interval = 1440</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;http://download.virtualbox.org/virtualbox&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/virtualbox.sh&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-sum: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;winehq&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>upstream = &quot;ftp://ftp.winehq.org/pub/&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/scripts/lftp.sh&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        TUNASYNC_LFTP_OPTIONS = &quot;-x wine-builds.old/ -x /\\..+&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;zabbix&quot;</span></span>
<span class="line"><span>provider = &quot;rsync&quot;</span></span>
<span class="line"><span>upstream = &quot;rsync://repo.zabbix.com/mirror/&quot;</span></span>
<span class="line"><span>rsync_options = [ &quot;--delete-excluded&quot;, &quot;--chmod=o+r,Do+x,Fa-x&quot; ]</span></span>
<span class="line"><span>memory_limit = &quot;256M&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;AOSP&quot;</span></span>
<span class="line"><span>interval = 720</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/aosp.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://android.googlesource.com/mirror/manifest&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        REPO = &quot;/usr/local/bin/aosp-repo&quot;</span></span>
<span class="line"><span>        REPO_URL = &quot;https://mirrors.tuna.tsinghua.edu.cn/git/git-repo&quot;</span></span>
<span class="line"><span>        USE_BITMAP_INDEX = &quot;1&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;lineageOS&quot;</span></span>
<span class="line"><span>interval = 720</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/aosp.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://github.com/LineageOS/mirror&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        REPO = &quot;/usr/local/bin/aosp-repo&quot;</span></span>
<span class="line"><span>        REPO_URL = &quot;https://mirrors.tuna.tsinghua.edu.cn/git/git-repo&quot;</span></span>
<span class="line"><span>        USE_BITMAP_INDEX = &quot;1&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;chromiumos&quot;</span></span>
<span class="line"><span>interval = 720</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/cros.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://chromium.googlesource.com&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span>fail_on_match = &quot;fatal: &quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        USE_BITMAP_INDEX = &quot;1&quot;</span></span>
<span class="line"><span>        CONCURRENT_JOBS = &quot;20&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;crates.io-index.git&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/git.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://github.com/rust-lang/crates.io-index.git&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-pack: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;flutter-sdk.git&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/git.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;git://github.com/flutter/flutter.git&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-pack: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;gcc.git&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/git.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;git://gcc.gnu.org/git/gcc.git&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-pack: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;gentoo-portage.git&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/git.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;git://github.com/gentoo-mirror/gentoo.git&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-pack: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;git-repo&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/git-repo.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://gerrit.googlesource.com/git-repo&quot;</span></span>
<span class="line"><span>size_pattern = &quot;size-pack: ([0-9\\.]+[KMGTP])&quot;</span></span>
<span class="line"><span>fail_on_match = &quot;fatal: &quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;</span><span class="highlighted-word">home</span><span>brew&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/</span><span class="highlighted-word">home</span><span>brew.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://github.com/Homebrew&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;CocoaPods&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/cocoapods.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://github.com/CocoaPods&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;pybombs&quot;</span></span>
<span class="line"><span>interval = 720</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/pybombs.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://github.com/scateu/pybombs-mirror/&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>docker_volumes = [&quot;/</span><span class="highlighted-word">home</span><span>/pybombs-mirror:/opt/pybombs-mirror&quot;]</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span>        [mirrors.env]</span></span>
<span class="line"><span>        PYBOMBS_MIRROR_SCRIPT_PATH = &quot;/opt/pybombs-mirror&quot;</span></span>
<span class="line"><span>        MIRROR_BASE_URL = &quot;https://mirrors.tuna.tsinghua.edu.cn/pybombs&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[mirrors]]</span></span>
<span class="line"><span>name = &quot;llvm&quot;</span></span>
<span class="line"><span>provider = &quot;command&quot;</span></span>
<span class="line"><span>command = &quot;/</span><span class="highlighted-word">home</span><span>/tunasync-scripts/llvm.sh&quot;</span></span>
<span class="line"><span>upstream = &quot;https://git.llvm.org/git&quot;</span></span>
<span class="line"><span>docker_image = &quot;tunathu/tunasync-scripts:latest&quot;</span></span>
<span class="line"><span>size_pattern = &quot;Total size is ([0-9\\.]+[KMGTP]?)&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># vim: ft=toml</span></span></code></pre><div class="collapsed-lines"></div></div></div><h3 id="ustclug-yuki" tabindex="-1"><a class="header-anchor" href="#ustclug-yuki"><span>USTCLUG YUKI</span></a></h3><p>中国科学技术大学Linux用户组开发的Go语言控制后端</p><!----><h2 id="镜像站前端们" tabindex="-1"><a class="header-anchor" href="#镜像站前端们"><span>镜像站前端们</span></a></h2><h3 id="tuna-mirror-web" tabindex="-1"><a class="header-anchor" href="#tuna-mirror-web"><span>TUNA Mirror Web</span></a></h3><!----><ol><li>安装 Ruby</li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> ruby</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> ruby-devel</span></span></code></pre></div><p>验证</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">ruby</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> --version</span></span></code></pre></div><ol start="2"><li>安装Node.js</li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> git</span></span></code></pre></div><blockquote><p>NodeJS Releases多个版本管理器</p><p><a href="https://help.mirrors.cernet.edu.cn/nodejs-release/" target="_blank" rel="noopener noreferrer">https://help.mirrors.cernet.edu.cn/nodejs-release/</a></p><p><a href="https://nodejs.org/en/download" target="_blank" rel="noopener noreferrer">https://nodejs.org/en/download</a></p></blockquote><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><!--[--><button class="active vp-code-tab-nav" type="button" role="tab" aria-controls="codetab-514-0" aria-selected="true"><!--[--><span class="vp-icon vpi-e34qv69v bg" style="" aria-hidden data-provider="iconify"></span><span>nvm.sh</span><!--]--></button><button class="vp-code-tab-nav" type="button" role="tab" aria-controls="codetab-514-1" aria-selected="false"><!--[--><span class="vp-icon vpi-e34qv69v bg" style="" aria-hidden data-provider="iconify"></span><span>fnm.sh</span><!--]--></button><!--]--></div><!--[--><div id="codetab-514-0" class="active vp-code-tab" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title"><!--[--><span class="vp-icon vpi-e34qv69v bg" style="" aria-hidden data-provider="iconify"></span><span>nvm.sh</span><!--]--></div><!--[--><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#569CD6;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;"> NVM_DIR</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">/.nvm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;"> &amp;&amp; (</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">  git</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> https://github.com/nvm-sh/nvm.git</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$NVM_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#DCDCAA;">  cd</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$NVM_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">  git</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> describe </span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">--abbrev=0</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> --tags</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> --match</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;v[0-9]*&quot; $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> rev-list </span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;">--tags</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> --max-count=1</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">)`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D4D4D4;">) &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">\.</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9CDCFE;">$NVM_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;">/nvm.sh&quot;</span></span></code></pre></div><!--]--></div><div id="codetab-514-1" class="vp-code-tab" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title"><!--[--><span class="vp-icon vpi-e34qv69v bg" style="" aria-hidden data-provider="iconify"></span><span>fnm.sh</span><!--]--></div><!--[--><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"># Download and install fnm:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> -o-</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> https://fnm.vercel.app/install</span><span style="--shiki-light:#D73A49;--shiki-dark:#D4D4D4;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;"> bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"># Download and install Node.js:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#B5CEA8;"> 22</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"># Verify the Node.js version:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> -v</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"> # Should print &quot;v22.15.0&quot;.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"># Verify npm version:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">npm</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> -v</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A9955;"> # Should print &quot;10.9.2&quot;.</span></span></code></pre></div><!--]--></div><!--]--></div><h3 id="zju-mirror" tabindex="-1"><a class="header-anchor" href="#zju-mirror"><span>ZJU Mirror</span></a></h3><!----><p>浙江大学的前端编写较为复杂，针对HTTP请求设置代理检测、IP检测与请求头（浏览器）检测，安全性高。由专业UI设计师和前端开发组成，设计恰当。</p><blockquote><p>CQMU Mirror大部分灵感来自于此，查看前端仓库与开发方法。</p></blockquote><!----><p><img src="/assets/2025-04-27_07-46-25-GNhZhko5.png" alt="2025-04-27_07-46-25.png" width="3799" height="1799"></p><h3 id="sdu-mirror" tabindex="-1"><a class="header-anchor" href="#sdu-mirror"><span>SDU Mirror</span></a></h3><p>由山东大学开发的镜像站前端页面，组件自行封装，简约大气。</p><!----><h3 id="sustech-cra-ccse-mirror-web" tabindex="-1"><a class="header-anchor" href="#sustech-cra-ccse-mirror-web"><span>SUSTech-CRA ccse-mirror-web</span></a></h3><p>南方科技大学镜像站前端是基于Vue3编写的，相对容易上手，而且开发指南清晰易懂，不再赘述。</p><!----><h3 id="cqu-mirror" tabindex="-1"><a class="header-anchor" href="#cqu-mirror"><span>CQU Mirror</span></a></h3><p>重庆大学使用NuxtJS自行构建开发的镜像站前端界面，小清新。</p><!----><h3 id="xjtuana-mirror" tabindex="-1"><a class="header-anchor" href="#xjtuana-mirror"><span>XJTUANA Mirror</span></a></h3><p>西安交通大学软件镜像站</p><!----><h3 id="cqupt-mirror" tabindex="-1"><a class="header-anchor" href="#cqupt-mirror"><span>CQUPT Mirror</span></a></h3><p>重庆邮电大学开发的前端也是基于Vue3编写的，对我们学校大二、大三动手能力强的同学比较友好，可以看看，启动与开发也十分简单</p><!----><ol><li>导入git仓库</li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> clone</span></span></code></pre></div><ol start="2"><li>安装pnpm</li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#569CD6;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> pnpm</span></span></code></pre></div><ol start="3"><li>安装依赖</li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> install</span></span></code></pre></div><ol start="4"><li>预览</li></ol><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#24292e;--shiki-dark:#D4D4D4;--shiki-light-bg:#fff;--shiki-dark-bg:#1E1E1E;"><pre class="shiki shiki-themes github-light dark-plus vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCDCAA;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#CE9178;"> dev</span></span></code></pre></div><p><img src="/assets/2025-04-27_06-23-02-Br4ohr6o.png" alt="2025-04-27_06-23-02.png" width="3840" height="1825"></p><h2 id="技术选型之前端" tabindex="-1"><a class="header-anchor" href="#技术选型之前端"><span>技术选型之前端</span></a></h2><h3 id="fancy-ngx" tabindex="-1"><a class="header-anchor" href="#fancy-ngx"><span>fancy-ngx</span></a></h3><h3 id="负载均衡器" tabindex="-1"><a class="header-anchor" href="#负载均衡器"><span>负载均衡器</span></a></h3><h3 id="框架技术与静态生成" tabindex="-1"><a class="header-anchor" href="#框架技术与静态生成"><span>框架技术与静态生成</span></a></h3><h2 id="技术选型之后端" tabindex="-1"><a class="header-anchor" href="#技术选型之后端"><span>技术选型之后端</span></a></h2><h3 id="反向代理" tabindex="-1"><a class="header-anchor" href="#反向代理"><span>反向代理</span></a></h3><!--[--><div class="mermaid-actions"><button class="preview-button" title="preview"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1316 1024" fill="currentColor"><path d="M658.286 0C415.89 0 0 297.106 0 512c0 214.82 415.89 512 658.286 512 242.322 0 658.285-294.839 658.285-512S900.608 0 658.286 0zm0 877.714c-161.573 0-512-221.769-512-365.714 0-144.018 350.427-365.714 512-365.714 161.572 0 512 217.16 512 365.714s-350.428 365.714-512 365.714z"/><path d="M658.286 292.571a219.429 219.429 0 1 0 0 438.858 219.429 219.429 0 0 0 0-438.858zm0 292.572a73.143 73.143 0 1 1 0-146.286 73.143 73.143 0 0 1 0 146.286z"/></svg></button><button class="download-button" title="download"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor"><path d="M828.976 894.125H190.189c-70.55 0-127.754-57.185-127.754-127.753V606.674c0-17.634 14.31-31.933 31.933-31.933h63.889c17.634 0 31.932 14.299 31.932 31.933v95.822c0 35.282 28.596 63.877 63.877 63.877h511.033c35.281 0 63.877-28.595 63.877-63.877v-95.822c0-17.634 14.298-31.933 31.943-31.933h63.878c17.635 0 31.933 14.299 31.933 31.933v159.7c0 70.566-57.191 127.751-127.754 127.751zM249.939 267.51c12.921-12.92 33.885-12.92 46.807 0l148.97 148.972V94.893c0-17.634 14.302-31.947 31.934-31.947h63.876c17.638 0 31.946 14.313 31.946 31.947v321.589l148.97-148.972c12.922-12.92 33.876-12.92 46.797 0l46.814 46.818c12.922 12.922 12.922 33.874 0 46.807L552.261 624.93c-1.14 1.138-21.664 13.684-42.315 13.693-20.877.01-41.88-12.542-43.021-13.693L203.122 361.135c-12.923-12.934-12.923-33.885 0-46.807l46.817-46.818z"/></svg></button></div><div class="mermaid-wrapper"><div style="display:flex;align-items:center;justify-content:center;height:96px;" class="mermaid-loading"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--]--><h3 id="负载均衡" tabindex="-1"><a class="header-anchor" href="#负载均衡"><span>负载均衡</span></a></h3><!--[--><div class="mermaid-actions"><button class="preview-button" title="preview"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1316 1024" fill="currentColor"><path d="M658.286 0C415.89 0 0 297.106 0 512c0 214.82 415.89 512 658.286 512 242.322 0 658.285-294.839 658.285-512S900.608 0 658.286 0zm0 877.714c-161.573 0-512-221.769-512-365.714 0-144.018 350.427-365.714 512-365.714 161.572 0 512 217.16 512 365.714s-350.428 365.714-512 365.714z"/><path d="M658.286 292.571a219.429 219.429 0 1 0 0 438.858 219.429 219.429 0 0 0 0-438.858zm0 292.572a73.143 73.143 0 1 1 0-146.286 73.143 73.143 0 0 1 0 146.286z"/></svg></button><button class="download-button" title="download"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor"><path d="M828.976 894.125H190.189c-70.55 0-127.754-57.185-127.754-127.753V606.674c0-17.634 14.31-31.933 31.933-31.933h63.889c17.634 0 31.932 14.299 31.932 31.933v95.822c0 35.282 28.596 63.877 63.877 63.877h511.033c35.281 0 63.877-28.595 63.877-63.877v-95.822c0-17.634 14.298-31.933 31.943-31.933h63.878c17.635 0 31.933 14.299 31.933 31.933v159.7c0 70.566-57.191 127.751-127.754 127.751zM249.939 267.51c12.921-12.92 33.885-12.92 46.807 0l148.97 148.972V94.893c0-17.634 14.302-31.947 31.934-31.947h63.876c17.638 0 31.946 14.313 31.946 31.947v321.589l148.97-148.972c12.922-12.92 33.876-12.92 46.797 0l46.814 46.818c12.922 12.922 12.922 33.874 0 46.807L552.261 624.93c-1.14 1.138-21.664 13.684-42.315 13.693-20.877.01-41.88-12.542-43.021-13.693L203.122 361.135c-12.923-12.934-12.923-33.885 0-46.807l46.817-46.818z"/></svg></button></div><div class="mermaid-wrapper"><div style="display:flex;align-items:center;justify-content:center;height:96px;" class="mermaid-loading"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--]--><h3 id="raid磁盘阵列" tabindex="-1"><a class="header-anchor" href="#raid磁盘阵列"><span>RAID磁盘阵列</span></a></h3><p>RaidZ2</p><!--[--><div class="mermaid-actions"><button class="preview-button" title="preview"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1316 1024" fill="currentColor"><path d="M658.286 0C415.89 0 0 297.106 0 512c0 214.82 415.89 512 658.286 512 242.322 0 658.285-294.839 658.285-512S900.608 0 658.286 0zm0 877.714c-161.573 0-512-221.769-512-365.714 0-144.018 350.427-365.714 512-365.714 161.572 0 512 217.16 512 365.714s-350.428 365.714-512 365.714z"/><path d="M658.286 292.571a219.429 219.429 0 1 0 0 438.858 219.429 219.429 0 0 0 0-438.858zm0 292.572a73.143 73.143 0 1 1 0-146.286 73.143 73.143 0 0 1 0 146.286z"/></svg></button><button class="download-button" title="download"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor"><path d="M828.976 894.125H190.189c-70.55 0-127.754-57.185-127.754-127.753V606.674c0-17.634 14.31-31.933 31.933-31.933h63.889c17.634 0 31.932 14.299 31.932 31.933v95.822c0 35.282 28.596 63.877 63.877 63.877h511.033c35.281 0 63.877-28.595 63.877-63.877v-95.822c0-17.634 14.298-31.933 31.943-31.933h63.878c17.635 0 31.933 14.299 31.933 31.933v159.7c0 70.566-57.191 127.751-127.754 127.751zM249.939 267.51c12.921-12.92 33.885-12.92 46.807 0l148.97 148.972V94.893c0-17.634 14.302-31.947 31.934-31.947h63.876c17.638 0 31.946 14.313 31.946 31.947v321.589l148.97-148.972c12.922-12.92 33.876-12.92 46.797 0l46.814 46.818c12.922 12.922 12.922 33.874 0 46.807L552.261 624.93c-1.14 1.138-21.664 13.684-42.315 13.693-20.877.01-41.88-12.542-43.021-13.693L203.122 361.135c-12.923-12.934-12.923-33.885 0-46.807l46.817-46.818z"/></svg></button></div><div class="mermaid-wrapper"><div style="display:flex;align-items:center;justify-content:center;height:96px;" class="mermaid-loading"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--]--><h3 id="oss对象存储" tabindex="-1"><a class="header-anchor" href="#oss对象存储"><span>OSS对象存储</span></a></h3><h3 id="http缓存" tabindex="-1"><a class="header-anchor" href="#http缓存"><span>HTTP缓存</span></a></h3><h3 id="redis集群" tabindex="-1"><a class="header-anchor" href="#redis集群"><span>Redis集群</span></a></h3></div><!--[--><h2 id="doc-contributors" tabindex="-1"><a href="#doc-contributors" class="header-anchor"><span>贡献者</span></a></h2><div class="vp-contributors"><a href="https://github.com/rand777gg" target="_blank" rel="noreferrer" class="vp-contributor"><img src="https://avatars.githubusercontent.com/rand777gg?v=4" alt class="vp-contributor-avatar"><span class="vp-contributor-name">rand777gg</span></a></div><!--]--><!--[--><h2 id="doc-changelog" tabindex="-1"><a href="#doc-changelog" class="header-anchor"><span>更新日志</span></a></h2><div class="vp-changelog-wrapper"><div class="vp-changelog-header"><div class="vp-latest-updated"><span class="vp-changelog-icon"></span><span data-allow-mismatch>2025/8/11 06:03</span></div><div><span class="vp-changelog-menu-icon"></span><span>查看所有更新日志</span></div></div><ul class="vp-changelog-list"><!--[--><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/PGuideDev/PGuide-Docs/commit/0286cc943170b1ba0962457abcff8b36bfb69366" target="_blank" rel="noreferrer"><code>0286c</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">docs: cancel former icon candy grammar</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-08-11T06:03:28.000Z">2025/8/11</time></span></li><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/PGuideDev/PGuide-Docs/commit/bdf2455124b9cff6b5f45134c297e89f5aa70966" target="_blank" rel="noreferrer"><code>bdf24</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">docs: update all site structure</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-08-09T23:04:13.000Z">2025/8/9</time></span></li><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/PGuideDev/PGuide-Docs/commit/45281a57219f7f9097bc1cafbc7f048840b16d79" target="_blank" rel="noreferrer"><code>45281</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">docs: update SSH connection reference and improve CentOS Stream package mirror configuration</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-05-23T13:04:07.000Z">2025/5/23</time></span></li><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/PGuideDev/PGuide-Docs/commit/b5bb529bad415be258a9e65c212d30688698cc56" target="_blank" rel="noreferrer"><code>b5bb5</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">docs: update maintenance and development manual with additional prerequisites and repository links</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-04-27T00:44:11.000Z">2025/4/27</time></span></li><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/PGuideDev/PGuide-Docs/commit/e18dcdd39011a07713e796073a7d287f4490f2fd" target="_blank" rel="noreferrer"><code>e18dc</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">docs: enhance documentation with new links and acknowledgments</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-04-26T22:03:52.000Z">2025/4/26</time></span></li><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/PGuideDev/PGuide-Docs/commit/6deacee723fb2632dbc4d140ff159121578d4dbf" target="_blank" rel="noreferrer"><code>6deac</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">docs: rename and update documentation files</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2025-04-26T15:19:46.000Z">2025/4/26</time></span></li><!--]--></ul></div><!--]--><!----></div></main><footer class="vp-doc-footer" data-v-683812e9 data-v-ad013004><!--[--><!--]--><div class="edit-info" data-v-ad013004><div class="edit-link" data-v-ad013004><a class="vp-link link no-icon edit-link-button" href="https://github.com/PGuideDev/PGuide-Docs/edit/master/docs/notes/公共服务/重医校级开源软件镜像站/3.维护与开发手册.md" target="_blank" rel="noreferrer" data-v-ad013004><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-ad013004></span> 编辑此页<!--]--><!----></a></div><!----></div><!----><nav class="prev-next" data-v-ad013004><div class="pager" data-v-ad013004><a class="vp-link link pager-link prev" href="/public-service/cqmu-mirror/wiki/" data-v-ad013004><!--[--><span class="desc" data-v-ad013004>上一页</span><span class="title" data-v-ad013004>CQMU Mirror Wiki</span><!--]--><!----></a></div><div class="pager" data-v-ad013004><a class="vp-link link pager-link next" href="/public-service/code-manage/github-pguide-dev/" data-v-ad013004><!--[--><span class="desc" data-v-ad013004>下一页</span><span class="title" data-v-ad013004>Github PGuideDev</span><!--]--><!----></a></div></nav></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-683812e9><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-5e837f66 data-v-11bf0227><span class="percent" data-allow-mismatch data-v-11bf0227>0%</span><span class="show icon vpi-back-to-top" data-v-11bf0227></span><svg aria-hidden="true" data-v-11bf0227><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-11bf0227></circle></svg></button><footer class="vp-footer has-sidebar" vp-footer data-v-5e837f66 data-v-b046f265><!--[--><div class="container" data-v-b046f265><!----><p class="copyright" data-v-b046f265>PGuide Studio © 2023-2025</p></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-Dk7ccnrl.js" defer></script></body></html>